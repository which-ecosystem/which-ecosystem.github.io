(this.webpackJsonpwhich=this.webpackJsonpwhich||[]).push([[2],{113:function(e,t,a){"use strict";var n=a(7),r=a(123),c=a.n(r),o=a(47),i=a.n(o),l=a(81),u=a.n(l),s=a(26),m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;return new Promise((function(a,n){return 1===t?a(e):new c.a(e,{success:function(e){return a(e)},error:function(e){return n(e)},quality:t})}))};t.a=function(e,t,a){var r={headers:{"Content-Type":"image/png"},onUploadProgress:function(e){if(a){var t=e.loaded,n=e.total,r=Math.round(95*t/n);a(r)}}};return u.a.all([Object(s.a)("/files?key=".concat(e.name)),m(e,t)]).then((function(e){var t=Object(n.a)(e,2),a=t[0],c=t[1],o=a.data;return i.a.put(o,c,r)})).then((function(e){a&&a(100);var t=e.config.url;return t?t.slice(0,t.indexOf("?")):""}))}},114:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(188),o=a(125),i=a.n(o);t.a=function(e){var t=e.callback,a=e.children,o=Object(n.useRef)(null),l=function(){(null===o||void 0===o?void 0:o.current)&&o.current.click()},u=a&&r.a.Children.only(a),s=r.a.createElement(c.a,{onClick:l,variant:"contained",color:"primary",size:"large",startIcon:r.a.createElement(i.a,null)},"Upload");return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",ref:o,multiple:!1,accept:".jpg, .jpeg, .png, .gif",style:{display:"none"},onChange:function(e){var a,n=null===(a=e.target)||void 0===a?void 0:a.files;(null===n||void 0===n?void 0:n.length)&&t(n[0])}}),r.a.isValidElement(u)?r.a.cloneElement(u,{onClick:l}):s)}},115:function(e,t,a){"use strict";var n=a(27),r=a.n(n),c=a(36),o=a(7),i=a(37),l=a(0),u=a.n(l),s=a(182),m=a(17),f=a(186),d=a(187),p=a(183),b=a(184),g=a(135),v=a(32),h=a(181),E=a(57),O=a(128),j=a.n(O),k=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.default},content:Object(i.a)({},e.breakpoints.up("md"),{padding:e.spacing(4)}),toolbar:{display:"flex",justifyContent:"space-between"}}})),y=u.a.forwardRef((function(e,t){return u.a.createElement(s.a,Object.assign({direction:"left",ref:t},e))}));t.a=function(e){var t=e.title,a=e.actionIcon,n=e.handleAction,i=e.isActionDisabled,s=e.handleCloseModal,E=e.children,O=Object(l.useState)(!0),w=Object(o.a)(O,2),C=w[0],x=w[1],N=k(),S=Object(m.a)(),I=Object(f.a)(S.breakpoints.down("sm")),F=Object(l.useCallback)((function(){return x(!1)}),[x]),z=Object(l.useCallback)((function(){return s&&s()}),[s]),P=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n();case 3:return e.abrupt("return",F());case 4:case"end":return e.stop()}}),e)}))),[n,F]);return u.a.createElement(d.a,{open:C,onClose:F,onExited:z,TransitionComponent:y,PaperProps:{className:N.root},fullScreen:I,maxWidth:"md",fullWidth:!0},u.a.createElement(p.a,{position:"static"},u.a.createElement(b.a,{className:N.toolbar},u.a.createElement(g.a,{onClick:F},u.a.createElement(j.a,null)),u.a.createElement(v.a,{variant:"h6"},t),u.a.createElement(g.a,{onClick:P,disabled:i},a))),u.a.createElement(h.a,null),u.a.createElement("div",{className:N.content},E))}},129:function(e,t,a){e.exports=a.p+"static/media/noContent.527b7724.svg"},130:function(e,t,a){e.exports=a.p+"static/media/construction.07ebb9e5.svg"},131:function(e,t,a){e.exports=a.p+"static/media/server.5f74112c.svg"},132:function(e,t,a){e.exports=a.p+"static/media/error.74f870d4.svg"},147:function(e,t,a){e.exports=a(178)},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(134),l=a(243),u=a(244),s=a(33),m=a(82),f=a.n(m),d=(a(152),a(7)),p=a(12),b=a(186),g=a(135),v=a(32),h=a(228),E=a(229),O=a(230),j=a(231),k=a(57),y=a(17),w=a(34),C=a(223),x=a(182),N=a(183),S=a(184),I=a(224),F=a(225),z=a(122),P=a.n(z),A=a(220),R=a(93),W=a(221),L=a(222),M=a(181),B=a(247),D=a(26),T=a(64),U=Object(k.a)((function(e){return{root:{position:"relative",background:"rgba(255, 255, 255, 0.5)",borderRadius:"2px",padding:e.spacing(.5),display:"flex",alignItems:"center"},results:{position:"absolute",width:"100%",top:e.spacing(5)},listItem:{padding:0}}})),q=r.a.memo((function(e){var t=e.callback,a=Object(n.useState)([]),c=Object(d.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),s=u[0],m=u[1],f=Object(n.useState)(s),b=Object(d.a)(f,2),g=b[0],v=b[1],h=Object(p.f)(),E=U();Object(n.useEffect)((function(){var e=setTimeout((function(){return v(s)}),300);return function(){return clearTimeout(e)}}),[s]),Object(n.useEffect)((function(){g?Object(D.a)("/users?username[$regex]=".concat(g,"&$limit=").concat(7)).then((function(e){return i(e.data)})).catch((function(){return i([])})):i([])}),[g]);var O=function(){v(""),m("")},j=function(e){return function(){var a=o[e].username;h.push("/profile/".concat(a)),O(),t&&t()}},k=r.a.createElement(A.a,{onClickAway:O},r.a.createElement(R.a,{className:E.results},r.a.createElement(W.a,null,o.map((function(e,t){return r.a.createElement("div",{key:e._id},r.a.createElement(L.a,{button:!0,onClick:j(t),className:E.listItem},r.a.createElement(T.a,{user:e})),t<o.length-1&&r.a.createElement(M.a,null))})))));return r.a.createElement("div",{className:E.root},r.a.createElement(P.a,null),r.a.createElement(B.a,{placeholder:"Search...",value:s,onChange:function(e){m(e.target.value.trim())}}),o.length>0&&k)})),_=Object(k.a)({root:{display:"flex",justifyContent:"space-between"}}),J=r.a.memo((function(e){var t=_(),a=Object(C.a)(),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],u=e.menu,s=e.logo,m=function(){l((function(e){return!e}))};return r.a.createElement(x.a,{appear:!1,direction:"down",in:!a},r.a.createElement(N.a,{position:"fixed"},r.a.createElement(S.a,{className:t.root},u,i?r.a.createElement(q,{callback:m}):s,r.a.createElement(g.a,{onClick:m},i?r.a.createElement(I.a,null):r.a.createElement(F.a,null)))))})),V=Object(k.a)({root:{top:"auto",bottom:0},toolbar:{display:"flex",justifyContent:"space-around"}}),Y=r.a.memo((function(e){var t=V(),a=e.profile,n=e.feed,c=e.notifications;return r.a.createElement(N.a,{position:"fixed",className:t.root},r.a.createElement(S.a,{variant:"dense",className:t.toolbar},c,n,a))})),$=Object(k.a)({root:{width:"60%",margin:"auto",display:"flex",justifyContent:"space-around"},group:{display:"flex",alignItems:"center"}}),G=r.a.memo((function(e){var t=$(),a=e.logo,n=e.menu,c=e.feed,o=e.notifications,i=e.profile;return r.a.createElement(N.a,{position:"fixed"},r.a.createElement(S.a,null,n,r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.group},a),r.a.createElement(q,null),r.a.createElement("div",{className:t.group},c,o,i))))})),H=a(246),K=a(226),Q=a(227),X=a(70),Z=Object(k.a)((function(e){return{root:{padding:e.spacing(4,10),textAlign:"center"},avatar:{width:e.spacing(14),height:e.spacing(14)}}})),ee=r.a.memo((function(e){var t=e.user,a=Z();return r.a.createElement("div",{className:a.root},r.a.createElement(X.a,{user:t,className:a.avatar}),r.a.createElement(v.a,{variant:"h5"},t.username))})),te=Object(k.a)((function(e){return{item:{padding:e.spacing(2,14,2,2)},icon:{marginRight:e.spacing(1)}}})),ae=r.a.memo((function(e){var t=e.isOpen,a=e.setIsOpen,c=te(),o=Object(p.f)(),i=Object(w.b)(),l=i.user,u=i.logout,s=Object(n.useCallback)((function(){a(!0)}),[a]),m=Object(n.useCallback)((function(){a(!1)}),[a]);Object(n.useEffect)((function(){return o.listen((function(){return m()}))}),[o,m]);var f=Object(n.useCallback)((function(){u(),o.push("/login")}),[u,o]),d=Object(n.useCallback)((function(){o.push("/")}),[o]),b=Object(n.useMemo)((function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}),[]);return r.a.createElement(H.a,{anchor:"left",open:t,onOpen:s,onClose:m,disableBackdropTransition:!b,disableDiscovery:b},l&&r.a.createElement(ee,{user:l}),r.a.createElement(M.a,null),r.a.createElement(W.a,null,l&&r.a.createElement(L.a,{button:!0,className:c.item,onClick:f},r.a.createElement(K.a,{className:c.icon}),r.a.createElement(v.a,null,"Logout")),r.a.createElement(L.a,{button:!0,className:c.item,onClick:d},r.a.createElement(Q.a,{className:c.icon}),r.a.createElement(v.a,null,"About"))))})),ne=Object(k.a)((function(e){return{logo:{fontWeight:"bold",cursor:"pointer",color:"white"},avatar:{width:e.spacing(3),height:e.spacing(3)},activeIcon:{color:"white"}}})),re=r.a.memo((function(){var e=ne(),t=Object(w.b)().user,a=Object(y.a)(),c=Object(p.f)(),o=Object(b.a)(a.breakpoints.down("sm")),i=Object(n.useState)(!1),l=Object(d.a)(i,2),u=l[0],s=l[1],m=Object(n.useState)(Object(p.g)().pathname),f=Object(d.a)(m,2),k=f[0],C=f[1];Object(n.useEffect)((function(){return c.listen((function(e){C(e.pathname)}))}),[c]);var x=r.a.createElement(g.a,{onClick:function(){c.push("/feed")}},r.a.createElement(h.a,{className:"/feed"===k?e.activeIcon:""})),N=r.a.createElement(g.a,{onClick:function(){c.push("/notifications")}},r.a.createElement(E.a,{className:"/notifications"===k?e.activeIcon:""})),S=r.a.createElement(g.a,{onClick:function(){s(!0)}},r.a.createElement(O.a,null)),I=r.a.createElement(v.a,{variant:"h5",className:e.logo,onClick:function(){c.push("/")}},"Which"),F=r.a.createElement(g.a,{onClick:function(){t?c.push("/profile/".concat(t.username)):c.push("/login")}},r.a.createElement(j.a,{className:[e.avatar,k.includes("/profile")?e.activeIcon:""].join(" ")}));return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{logo:I,menu:S}),r.a.createElement(Y,{feed:x,profile:F,notifications:N}),r.a.createElement(ae,{isOpen:u,setIsOpen:s})):r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{menu:S,logo:I,profile:F,notifications:N,feed:x}),r.a.createElement(ae,{isOpen:u,setIsOpen:s}))})),ce=a(37),oe=a(66),ie=a(133),le=a(27),ue=a.n(le),se=a(36),me=a(81),fe=a.n(me),de=a(240),pe=a(241),be=a(242),ge=a(116),ve=a.n(ge),he=a(113),Ee=function(){var e=Object(n.useState)(),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Object(n.useCallback)(function(){var e=Object(se.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(.01),!(a instanceof File)){e.next=3;break}return e.abrupt("return",Object(he.a)(a,t,l));case 3:return e.abrupt("return",a||"");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a]);return{file:a,setFile:r,resolve:u,progress:i}},Oe=a(237),je=a(137),ke=a(238),ye=a(239),we=a(188),Ce=a(124),xe=a.n(Ce),Ne=a(187),Se=a(233),Ie=a(234),Fe=a(235),ze=a(245),Pe=a(236),Ae=function(e){var t=e.setIsOpen,a=e.isOpen,c=e.callback,o=Object(n.useState)(""),i=Object(d.a)(o,2),l=i[0],u=i[1],s=function(){t(!1)};return r.a.createElement("div",null,r.a.createElement(Ne.a,{open:a,onClose:s},r.a.createElement(Se.a,null,"Upload via link"),r.a.createElement(Ie.a,null,r.a.createElement(Fe.a,null,"Provide a valid URL to your image:"),r.a.createElement(ze.a,{autoFocus:!0,margin:"dense",id:"name",label:"Image URL",type:"text",fullWidth:!0,autoComplete:"off",onChange:function(e){u(e.target.value)}})),r.a.createElement(Pe.a,null,r.a.createElement(we.a,{onClick:s,color:"primary"},"Cancel"),r.a.createElement(we.a,{onClick:function(){var e=l;if(l.startsWith("https://www.instagram.com/")){var t=l.match("/p/(.*)/"),a=t&&t[1];e="https://www.instagram.com/p/".concat(a,"/media/?size=l")}else if(l.startsWith("https://drive.google.com/")){var n=l.match("/d/(.*)/"),r=n&&n[1];e="https://drive.google.com/uc?export=view&id=".concat(r)}c(e||""),s()},color:"primary",disabled:!l.length},"Submit"))))},Re=function(e){var t=e.callback,a=e.children,c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],u=function(){l(!0)},s=r.a.createElement(we.a,{onClick:u,variant:"outlined",color:"primary",startIcon:r.a.createElement(xe.a,null)},"Link"),m=a&&r.a.Children.only(a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,{callback:t,isOpen:i,setIsOpen:l}),r.a.isValidElement(m)?r.a.cloneElement(m,{onClick:u}):s)},We=a(114),Le=a(98),Me=Object(k.a)((function(e){var t;return{root:{width:"50%",display:"flex"},mediaRoot:{display:"flex"},uploadRoot:(t={flex:1,display:"flex"},Object(ce.a)(t,e.breakpoints.up("md"),{padding:e.spacing(4)}),Object(ce.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(8,1)}),t),outline:{padding:e.spacing(2),flex:1,border:"2px dashed gray",borderRadius:e.spacing(1),display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},clearIcon:{opacity:".5",fontSize:50},overlay:{backgroundColor:"rgba(0, 0, 0, 0.45)",color:"white",position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",transitionDuration:"0.5s"},invisible:{backgroundColor:"rgba(0, 0, 0, 0)"},icon:{color:"white"}}})),Be=function(e){var t=e.callback,a=e.progress,c=Me(),o=Object(n.useState)(),i=Object(d.a)(o,2),l=i[0],u=i[1],s=function(e){var a;e instanceof File?(a=e,new Promise((function(e,t){var n=new FileReader;n.addEventListener("load",(function(){"string"===typeof n.result&&e(n.result)}),!1),n.addEventListener("error",(function(){t(new Error("Error reading the file"))}),!1),a&&n.readAsDataURL(a)}))).then((function(e){return u(e)})):u(e),t(e)},m=r.a.createElement("div",{className:c.uploadRoot},r.a.createElement("div",{className:c.outline},r.a.createElement(We.a,{callback:s}),r.a.createElement(v.a,{variant:"h6"}," or "),r.a.createElement(Re,{callback:s}))),f=r.a.createElement(Oe.a,{onClick:function(){u(void 0),t(void 0)},className:c.mediaRoot,disabled:Boolean(a)},r.a.createElement(Le.a,{src:l}),r.a.createElement("div",{className:"".concat(c.overlay," ").concat(100===a&&c.invisible)},a?a<100?r.a.createElement(je.a,{variant:"static",value:a,className:c.icon}):r.a.createElement(ke.a,{className:c.icon,fontSize:"large"}):r.a.createElement(ye.a,{className:c.icon,fontSize:"large"})));return r.a.createElement("div",{className:c.root},l?f:m)},De=a(115),Te=a(50),Ue=a(59),qe=Object(k.a)((function(e){return{images:{height:e.spacing(50),display:"flex"},textarea:{width:"100%",height:100},description:{fontSize:14,padding:e.spacing(1,2)}}})),_e=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],o=qe(),i=Object(p.f)(),l=Object(oe.b)().enqueueSnackbar,u=Object(w.b)().user,s=Object(Ue.a)().mutate,m=Object(Ue.d)((null===u||void 0===u?void 0:u.username)||"").mutate,f=Ee(),b=f.file,g=f.setFile,h=f.resolve,E=f.progress,O=Ee(),j=O.file,k=O.setFile,y=O.resolve,C=O.progress,x=function(){var e=Object(se.a)(ue.a.mark((function e(){var t,n,r,c,o;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.all([h(),y()]);case 3:t=e.sent,n=Object(d.a)(t,2),r=n[0],c=n[1],o={left:{url:r},right:{url:c}},Object(D.c)("/polls/",{contents:o,description:a}).then((function(){s(),m(),l("Your poll has been successfully created!",{variant:"success"})})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l("Failed to create a poll. Please, try again.",{variant:"error"});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),N=Object(n.useCallback)((function(){return i.goBack()}),[i]),S=Object(n.useMemo)((function(){return E+C>0}),[E,C]);return r.a.createElement(De.a,{title:"Create a poll",actionIcon:r.a.createElement(ve.a,null),handleAction:x,isActionDisabled:!(b&&j)||S,handleCloseModal:N},r.a.createElement(de.a,{maxWidth:"sm",disableGutters:!0},r.a.createElement(pe.a,{elevation:3},u&&r.a.createElement(T.a,{user:u}),r.a.createElement(v.a,{component:"span"},r.a.createElement(B.a,{multiline:!0,fullWidth:!0,placeholder:"Add description",onChange:function(e){c(e.target.value)},className:o.description,readOnly:S})),r.a.createElement("div",{className:o.images},r.a.createElement(Be,{callback:g,progress:E}),r.a.createElement(Be,{callback:k,progress:C}))),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{color:"primary"}),r.a.createElement(Te.a,{tagline:"You can close this window now",message:"We will upload your images in the background.",noMargin:!0}))))},Je=r.a.lazy((function(){return Promise.all([a.e(0),a.e(5),a.e(9)]).then(a.bind(null,464))})),Ve=r.a.lazy((function(){return Promise.all([a.e(0),a.e(8)]).then(a.bind(null,455))})),Ye=r.a.lazy((function(){return Promise.all([a.e(1),a.e(11)]).then(a.bind(null,465))})),$e=r.a.lazy((function(){return Promise.all([a.e(1),a.e(7),a.e(13)]).then(a.bind(null,459))})),Ge=r.a.lazy((function(){return Promise.all([a.e(6),a.e(10)]).then(a.bind(null,466))})),He=r.a.lazy((function(){return a.e(12).then(a.bind(null,463))})),Ke=r.a.memo((function(){var e=Object(p.g)(),t=e.state&&e.state.background,a=r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/new",component:_e}));return r.a.createElement(r.a.Fragment,null,a,r.a.createElement(p.c,{location:t||e},r.a.createElement(p.a,{exact:!0,path:"/",component:Ge}),r.a.createElement(p.a,{exact:!0,path:"/login",component:Ye}),r.a.createElement(p.a,{exact:!0,path:"/registration",component:$e}),r.a.createElement(p.a,{exact:!0,path:"/notifications",component:He}),r.a.createElement(p.a,{path:"/feed",component:Ve}),r.a.createElement(p.a,{path:"/profile/:username",component:Je})))})),Qe=a(69),Xe=a(65),Ze=["","It looks like our server is sleeping.","We need about ".concat(30," seconds to wake it up."),"Please, stay with us.","We love you <3","Almost done."],et=Object(k.a)((function(e){return{root:{textAlign:"center"},hidden:{visibility:"hidden",position:"absolute",width:0,height:0,overflow:"hidden"},img:{width:e.spacing(24)}}})),tt=function(e){var t=e.children,a=et(),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(0),s=Object(d.a)(u,2),m=s[0],f=s[1],p=Object(n.useCallback)((function(){return f((function(e){return e+1}))}),[f]);Object(n.useEffect)((function(){var e=setInterval(p,1e3);return Object(D.a)("/ping").then((function(){l(!0),clearInterval(e)})),function(){return clearInterval(e)}}),[l,p]);var b=Object(n.useMemo)((function(){var e=30/Ze.length,t=Math.floor(m/e),a=Ze.length-1;return Ze[t>a?a:t]}),[m]);return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,null),b&&r.a.createElement(Xe.a,{variant:"waiting",smart:!0,message:b})),r.a.createElement("div",{className:i?"":a.hidden},t))},at=Object(k.a)((function(e){var t;return{root:(t={},Object(ce.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(10,0,12,0)}),Object(ce.a)(t,e.breakpoints.up("md"),{padding:e.spacing(15,5,8,5)}),t)}})),nt=function(){return r.a.createElement(Xe.a,{variant:"error",message:"Try reloading the page."})},rt=function(){var e=at(),t=Object(y.a)(),a=Object(p.f)(),c=Object(b.a)(t.breakpoints.down("sm"));return Object(n.useEffect)((function(){return a.listen((function(e){var t;(null===(t=e.state)||void 0===t?void 0:t.background)||window.scrollTo(0,0)}))}),[a]),r.a.createElement(oe.a,{preventDuplicate:!0,maxSnack:c?1:3,anchorOrigin:c?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"left"}},r.a.createElement("div",{className:e.root},r.a.createElement(ie.ErrorBoundary,{FallbackComponent:nt},r.a.createElement(n.Suspense,{fallback:r.a.createElement(Qe.a,null)},r.a.createElement(tt,null,r.a.createElement(Ke,null))))))},ct=Object(i.a)({palette:{primary:{main:f.a[700],light:f.a[100]},secondary:{main:f.a[900]}}}),ot=function(){return r.a.createElement(s.a,null,r.a.createElement(w.a,null,r.a.createElement(l.a,{theme:ct},r.a.createElement(u.a,null),r.a.createElement(re,null),r.a.createElement(rt,null))))};o.a.render(r.a.createElement(ot,null),document.getElementById("root"))},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return s}));var n=a(47),r=a.n(n),c=a(95),o=a.n(c),i=r.a.create({baseURL:"https://which-api.herokuapp.com"});i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return o.a.set(e,"headers.Authorization",t)})),i.interceptors.response.use((function(e){return e}),(function(e){return"Request failed with status code 401"===e.message&&localStorage.getItem("token")&&(localStorage.removeItem("remember"),window.location.reload()),Promise.reject(e)}));var l=i.get,u=i.post,s=(i.put,i.patch)},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p}));var n=a(7),r=a(27),c=a.n(r),o=a(36),i=a(0),l=a.n(i),u=a(26),s=a(59),m=function(e){var t=Object(i.useState)((function(){return localStorage.getItem(e)||null})),a=Object(n.a)(t,2),r=a[0],c=a[1];return[r,Object(i.useCallback)((function(t){t?localStorage.setItem(e,t):localStorage.removeItem(e),c(t)}),[e])]},f=Object(i.createContext)({user:void 0,login:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){},isAuthenticated:!1}),d=function(e){var t=e.children,a=function(){var e=m("remember"),t=Object(n.a)(e,2),a=t[0],r=t[1],c=m("username"),o=Object(n.a)(c,2),l=o[0],f=o[1],d=m("token"),p=Object(n.a)(d,2),b=p[0],g=p[1],v=Object(s.e)(l).data,h=Object(i.useMemo)((function(){return Boolean(l)}),[l]),E=Object(i.useCallback)((function(){g(null),f(null)}),[g,f]);Object(i.useEffect)((function(){a||E()}),[a,E]);return{user:v,login:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(u.c)("/authentication",{strategy:"local",username:e,password:t}).then((function(t){return g(t.data.accessToken),f(e),r(a?"true":null),!0})).catch((function(){return!1}))},logout:E,token:b,isAuthenticated:h}}(),r=f.Provider;return l.a.createElement(r,{value:a},t)},p=function(){return Object(i.useContext)(f)}},50:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(32),o=a(57),i=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},margin:{marginTop:e.spacing(6)},content:{margin:e.spacing(2)}}})),l=r.a.memo((function(e){var t=e.tagline,a=e.message,n=e.noMargin,o=e.children,l=i();return r.a.createElement("div",{className:"".concat(l.root," ").concat(!n&&l.margin)},r.a.createElement("div",{className:l.content},o),r.a.createElement(c.a,{variant:"h5"},t),r.a.createElement(c.a,{color:"textSecondary"},a))}));t.a=l},59:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return f}));var n=a(56),r=a(47),c=a.n(r),o=a(26),i=function(e){return Object(o.a)(e).then((function(e){return e.data}))},l=function(e){return Object(n.a)(e&&"/users?username=".concat(e),(function(e){return Object(o.a)(e).then((function(e){return e.data[0]}))}))},u=function(e){return Object(n.a)(e&&"/profiles/".concat(e),i)},s=function(){return Object(n.a)("/feed",i,{revalidateOnFocus:!1})},m=function(){return Object(n.a)("/feedback",i)},f=function(){return Object(n.a)("/patchnotes",(function(){return c.a.get("https://api.github.com/repos/which-ecosystem/which/releases/latest").then((function(e){var t=e.data;return{name:t.name,url:t.html_url,version:t.tag_name,description:t.body}}))}),{revalidateOnFocus:!1})}},64:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(57),o=a(121),i=a.n(o),l=a(180),u=a(70),s=Object(c.a)((function(e){return{root:{display:"flex",alignItems:"center"},verified:{marginLeft:e.spacing(.5),width:e.spacing(2),height:e.spacing(2)}}}));t.a=function(e){var t=e.user,a=e.info,n=s(),c=t.username,o=t.verified,m=r.a.createElement(u.a,{user:t}),f=r.a.createElement("div",{className:n.root},c,o&&r.a.createElement(i.a,{color:"primary",className:n.verified}));return r.a.createElement(l.a,{avatar:m,title:f,subheader:a})}},65:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(57),o=a(72),i=a(50),l=a(129),u=a.n(l),s=a(130),m=a.n(s),f=a(131),d=a.n(f),p=a(132),b=a.n(p),g=Object(c.a)((function(e){return{img:{width:e.spacing(24)}}})),v={default:{icon:u.a,tagline:"No content"},construction:{icon:m.a,tagline:"Coming soon"},waiting:{icon:d.a,tagline:"Waiting for server"},error:{icon:b.a,tagline:"Something went wrong"}};t.a=function(e){var t=e.variant,a=void 0===t?"default":t,n=e.smart,c=void 0!==n&&n,l=e.message,u=g(),s=v[a],m=s.icon,f=s.tagline,d=c?o.a:"img";return r.a.createElement(i.a,{tagline:f,message:l},r.a.createElement(d,{src:m,className:u.img,alt:"No content"}))}},69:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(137),o=a(50),i=r.a.memo((function(e){var t=e.tagline,a=e.message;return r.a.createElement(o.a,{tagline:t,message:a},r.a.createElement(c.a,{color:"primary"}))}));t.a=i},70:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(12),o=a(191);t.a=function(e){var t=e.user,a=e.className,n=Object(c.f)();return r.a.createElement(o.a,{src:null===t||void 0===t?void 0:t.avatarUrl,onClick:function(){t&&n.push("/profile/".concat(t.username))},className:a,style:{cursor:"pointer"}})}},72:function(e,t,a){"use strict";var n=a(7),r=a(0),c=a.n(r),o=a(57),i=a(137),l=a(127),u=a.n(l),s=a(126),m=a.n(s),f=Object(o.a)((function(e){return{image:{imageOrientation:"from-image"},container:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},success:{opacity:"100%",filterBrightness:"100%",filterSaturate:"100%"},loading:{opacity:0,filterBrightness:0,filterSaturate:"20%",position:"absolute"},error:{display:"none"},errorIcon:{color:m.a[300],width:e.spacing(6),height:e.spacing(6)}}})),d=c.a.memo((function(e){var t=e.src,a=e.alt,o=e.className,l=e.animationDuration,s=void 0===l?1e3:l,m=e.disableLoading,d=void 0!==m&&m,p=f(),b=Object(r.useState)("loading"),g=Object(n.a)(b,2),v=g[0],h=g[1],E=Object(r.useCallback)((function(){h("success")}),[h]),O=Object(r.useCallback)((function(){h("error")}),[h]),j=Object(r.useMemo)((function(){return"\n    filterBrightness ".concat(.75*s,"ms cubic-bezier(0.4, 0.0, 0.2, 1),\n    filterSaturate ").concat(s,"ms cubic-bezier(0.4, 0.0, 0.2, 1),\n    opacity ").concat(s/2,"ms cubic-bezier(0.4, 0.0, 0.2, 1)\n  ")}),[s]),k=c.a.createElement("img",{src:t,alt:a,className:"".concat(p.image," ").concat(p[v]," ").concat(o),style:{transition:j},onLoad:E,onError:O});return c.a.createElement(c.a.Fragment,null,t&&k,"success"!==v&&c.a.createElement("div",{className:p.container},"error"!==v&&t?!d&&c.a.createElement(i.a,{color:"primary"}):c.a.createElement(u.a,{className:p.errorIcon})))}));t.a=d},98:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(57),o=a(72),i=Object(c.a)({root:{position:"absolute",width:"100%",height:"100%",overflow:"hidden"},image:{objectFit:"cover",pointerEvents:"none",width:"100%",minHeight:"100%"}});t.a=function(e){var t=e.src,a=e.alt,n=i();return r.a.createElement("div",{className:n.root},r.a.createElement(o.a,{src:t,alt:a,className:n.image}))}}},[[147,3,4]]]);
//# sourceMappingURL=main.9e27e322.chunk.js.map