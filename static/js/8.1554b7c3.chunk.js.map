{"version":3,"sources":["components/Fab/Fab.tsx","components/PollCard/PercentageBar.tsx","components/PollCard/PollCard.tsx","components/PollsList/RenderItem.tsx","components/PollsList/PollsList.tsx","../node_modules/@material-ui/core/esm/Badge/Badge.js","../node_modules/@material-ui/icons/esm/CameraAlt.js","../node_modules/@material-ui/icons/esm/CheckCircleOutline.js","../node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","containers/Profile/Highlight.tsx","containers/Profile/ProfileInfo.tsx","containers/Profile/Profile.tsx"],"names":["useStyles","makeStyles","theme","root","zIndex","position","breakpoints","down","right","spacing","bottom","up","Fab","hideOnScroll","classes","location","useLocation","trigger","useScrollTrigger","appear","direction","in","to","pathname","state","background","className","color","top","fontSize","textShadow","display","alignItems","left","PercentageBar","value","which","like","DATE_FORMAT","month","day","year","hour","minute","media","height","rateLine","width","backgroundColor","palette","primary","light","transitionDuration","highlight","main","fillRateLine","description","padding","wordWrap","whiteSpace","PollCard","React","memo","leftPercentage","rightPercentage","poll","setPoll","author","contents","vote","enqueueSnackbar","useSnackbar","isAuthenticated","useAuth","date","Date","createdAt","toLocaleString","handleVote","variant","newVote","pollId","_id","newPoll","votes","authorId","post","Math","round","dominant","Card","elevation","UserStrip","user","info","Typography","CardActionArea","onDoubleClick","BackgroundImage","src","url","style","paddingBottom","RenderItem","polls","mutate","index","cache","parent","_key","useCallback","newPolls","columnIndex","rowIndex","key","oldProps","newProps","CellMeasurerCache","fixedWidth","PollsList","useState","displayCount","setDisplayCount","useEffect","clearAll","rowRenderer","loadMoreRows","a","previousCount","isRowLoaded","length","rowCount","useMemo","_","min","isScrolling","registerChild","onChildScroll","scrollTop","disableHeight","ref","threshold","onRowsRendered","autoHeight","onScroll","rowHeight","containerStyle","pointerEvents","overscanRowCount","deferredMeasurementCache","Badge","props","_props$anchorOrigin","anchorOrigin","vertical","horizontal","badgeContent","children","_props$color","_props$component","component","ComponentProp","invisibleProp","invisible","_props$max","max","_props$overlap","overlap","_props$showZero","showZero","_props$variant","other","_objectWithoutProperties","displayValue","concat","_extends","clsx","badge","capitalize","dot","withStyles","verticalAlign","flexShrink","flexDirection","flexWrap","justifyContent","alignContent","boxSizing","fontFamily","typography","fontWeight","fontWeightMedium","pxToRem","minWidth","RADIUS_STANDARD","lineHeight","borderRadius","transition","transitions","create","easing","easeInOut","duration","enteringScreen","colorPrimary","contrastText","colorSecondary","secondary","colorError","error","RADIUS_DOT","anchorOriginTopRightRectangle","transform","transformOrigin","anchorOriginBottomRightRectangle","anchorOriginTopLeftRectangle","anchorOriginBottomLeftRectangle","anchorOriginTopRightCircle","anchorOriginBottomRightCircle","anchorOriginTopLeftCircle","anchorOriginBottomLeftCircle","leavingScreen","name","createSvgIcon","createElement","Fragment","cx","cy","r","d","Skeleton","_props$animation","animation","Component","hasChildren","Boolean","withChildren","fitContent","heightAuto","fade","text","type","marginTop","marginBottom","shape","content","rect","circle","pulse","opacity","wave","overflow","action","hover","visibility","maxWidth","menuButton","textAlign","menuNumber","menuText","Highlight","avatar","margin","darken","filter","verified","marginLeft","profileMenu","borderBottom","cursor","avatarContainer","skeleton","progress","ProfileInfo","savedPolls","totalVotes","setUserInfo","userInfo","setProgress","dateSince","toLocaleDateString","handleUpdateAvatar","file","uploadFileToS3","then","avatarUrl","patch","response","data","FileUpload","callback","CameraAlt","Avatar","join","CircularProgress","username","CheckCircleOutline","Profile","history","useHistory","useParams","useUser","useProfile","mutatePolls","isValidating","push","isOwnProfile","message","reduce","total","current","Container","disableGutters","EmptyState","Loading"],"mappings":"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","file":"static/js/8.1554b7c3.chunk.js","sourcesContent":["import React from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { Fab as FabBase, Slide, useScrollTrigger } from '@material-ui/core/';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlusIcon from '@material-ui/icons/Add';\n\ninterface PropTypes {\n  hideOnScroll?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    zIndex: 1000,\n    position: 'fixed',\n\n    [theme.breakpoints.down('sm')]: {\n      right: theme.spacing(2),\n      bottom: theme.spacing(8)\n    },\n    [theme.breakpoints.up('md')]: {\n      right: theme.spacing(5),\n      bottom: theme.spacing(5)\n    }\n  }\n}));\n\nconst Fab: React.FC<PropTypes> = ({ hideOnScroll = false }) => {\n  const classes = useStyles();\n  const location = useLocation();\n  const trigger = useScrollTrigger();\n\n  return (\n    <Slide appear={false} direction=\"up\" in={(!hideOnScroll) || !trigger}>\n      <Link to={{ pathname: '/new', state: { background: location } }}>\n        <FabBase\n          className={classes.root}\n          color=\"secondary\"\n        >\n          <PlusIcon />\n        </FabBase>\n      </Link>\n    </Slide>\n  );\n};\n\nexport default Fab;\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LikeIcon from '@material-ui/icons/Favorite';\n\ninterface PropTypes {\n  value: number;\n  which: 'left' | 'right';\n  like: boolean;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    color: 'white',\n    top: '86%',\n    fontSize: 20,\n    textShadow: '0 0 3px black',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  left: {\n    left: 30\n  },\n  right: {\n    right: 30\n  }\n});\n\nconst PercentageBar: React.FC<PropTypes> = ({ value, which, like }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={`${classes.root} ${classes[which]}`}>\n      {like && <LikeIcon />}\n      {`${value}%`}\n    </div>\n  );\n};\n\n\nexport default PercentageBar;\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Card, CardActionArea, Typography } from '@material-ui/core/';\nimport { Which, Poll } from 'which-types';\nimport { useSnackbar } from 'notistack';\n\nimport PercentageBar from './PercentageBar';\nimport UserStrip from '../UserStrip/UserStrip';\nimport BackgroundImage from '../Image/BackgroundImage';\nimport { post } from '../../requests';\nimport { useAuth } from '../../hooks/useAuth';\n\ninterface PropTypes {\n  poll: Poll;\n  setPoll: (poll: Poll) => void;\n}\n\nconst DATE_FORMAT = {\n  month: 'long',\n  day: 'numeric',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit'\n};\n\nconst useStyles = makeStyles(theme => ({\n  media: {\n    display: 'flex',\n    height: theme.spacing(50)\n  },\n  rateLine: {\n    position: 'relative',\n    width: '100%',\n    height: theme.spacing(2),\n    backgroundColor: theme.palette.primary.light,\n    transitionDuration: '0.5s'\n  },\n  highlight: {\n    backgroundColor: `${theme.palette.primary.main} !important`\n  },\n  fillRateLine: {\n    height: theme.spacing(2),\n    backgroundColor: theme.palette.primary.light,\n    transitionDuration: '0.5s'\n  },\n  description: {\n    padding: theme.spacing(1, 2),\n    wordWrap: 'break-word',\n    whiteSpace: 'pre-wrap'\n  }\n}));\n\nconst PollCard: React.FC<PropTypes> = React.memo(({ poll, setPoll }) => {\n  const classes = useStyles();\n  const { author, contents: { left, right }, vote } = poll;\n  const { enqueueSnackbar } = useSnackbar();\n  const { isAuthenticated } = useAuth();\n  const date: string = new Date(poll.createdAt).toLocaleString('default', DATE_FORMAT);\n\n  const handleVote = (which: Which) => () => {\n    if (!isAuthenticated) {\n      enqueueSnackbar('Unauthorized users can not vote in polls', {\n        variant: 'error'\n      });\n    } else if (vote) {\n      enqueueSnackbar('You have already voted in this poll', {\n        variant: 'error'\n      });\n    } else {\n      const newVote = ({ which, pollId: poll._id });\n      const newPoll = { ...poll };\n      newPoll.contents[which].votes += 1;\n      newPoll.vote = {\n        _id: '',\n        authorId: '',\n        createdAt: new Date(),\n        ...newVote\n      };\n      setPoll(newPoll);\n\n      post('votes/', newVote);\n    }\n  };\n\n  let leftPercentage;\n  let rightPercentage;\n\n  if (left.votes || right.votes) {\n    leftPercentage = Math.round(100 * (left.votes / (left.votes + right.votes)));\n    rightPercentage = 100 - leftPercentage;\n  } else {\n    leftPercentage = 0;\n    rightPercentage = 0;\n  }\n\n  const dominant: Which = left.votes >= right.votes ? 'left' : 'right';\n\n  return (\n    <Card elevation={3}>\n      <UserStrip user={author} info={date} />\n      {poll.description && (\n        <Typography className={classes.description}>\n          {poll.description}\n        </Typography>\n      )}\n      <div className={classes.media}>\n        <CardActionArea onDoubleClick={handleVote('left')} className={classes.media}>\n          <BackgroundImage src={left.url} />\n          <PercentageBar value={leftPercentage} which=\"left\" like={vote?.which === 'left'} />\n        </CardActionArea>\n        <CardActionArea onDoubleClick={handleVote('right')} className={classes.media}>\n          <BackgroundImage src={right.url} />\n          <PercentageBar value={rightPercentage} which=\"right\" like={vote?.which === 'right'} />\n        </CardActionArea>\n      </div>\n      <div className={`${classes.rateLine} ${dominant === 'right' ? classes.highlight : ''}`}>\n        <div\n          className={`${classes.fillRateLine} ${dominant === 'left' ? classes.highlight : ''}`}\n          style={{ width: `${leftPercentage}%` }}\n        />\n      </div>\n    </Card>\n  );\n});\n\nexport default PollCard;\n","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Poll } from 'which-types';\nimport { CellMeasurer, CellMeasurerCache, List } from 'react-virtualized';\nimport PollCard from '../PollCard/PollCard';\n\n\ninterface PropTypes {\n  polls: Poll[];\n  mutate: (polls: Poll[], refetch: boolean) => void;\n  index: number;\n  style: React.CSSProperties;\n  cache: CellMeasurerCache;\n  parent: List;\n  _key: string; // https://reactjs.org/warnings/special-props.html\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    paddingBottom: theme.spacing(8)\n  }\n}));\n\nconst compareProps = (oldProps: PropTypes, newProps: PropTypes) => {\n  if (oldProps._key !== newProps._key) return false;\n  if (oldProps.index !== newProps.index) return false;\n  if (oldProps.polls !== newProps.polls) return false;\n  // Only listen for height changes in style\n  if (oldProps.style.height !== newProps.style.height) return false;\n  return true;\n};\n\nconst RenderItem: React.FC<PropTypes> = React.memo(({\n  polls, mutate, index, style, cache, parent, _key\n}) => {\n  const classes = useStyles();\n  const poll = polls[index];\n  const setPoll = useCallback((newPoll: Poll) => {\n    const newPolls = [...polls];\n    newPolls[index] = newPoll;\n\n    // Force-update list-size so everything re-renders\n    mutate([], false);\n    mutate(newPolls, false);\n  }, [mutate, index, polls]);\n\n  return (\n    <CellMeasurer\n      cache={cache}\n      columnIndex={0}\n      rowIndex={index}\n      parent={parent}\n    >\n      <div key={`${_key}-${poll._id}`} className={classes.root} style={style}>\n        <PollCard poll={poll} setPoll={setPoll} />\n      </div>\n    </CellMeasurer>\n  );\n}, compareProps);\n\n\nexport default RenderItem;\n\n","import React, { useCallback, useState, useMemo, useEffect } from 'react';\nimport {\n  WindowScroller,\n  AutoSizer,\n  List,\n  InfiniteLoader,\n  CellMeasurerCache\n} from 'react-virtualized';\nimport _ from 'lodash';\nimport { Poll } from 'which-types';\n\nimport RenderItem from './RenderItem';\n\ninterface PropTypes {\n  polls: Poll[];\n  mutate: (polls: Poll[], refetch: boolean) => void;\n}\n\nconst cache = new CellMeasurerCache({\n  fixedWidth: true\n});\n\nconst PAGE_SIZE = 10;\n\nconst PollsList: React.FC<PropTypes> = ({ polls, mutate }) => {\n  const [displayCount, setDisplayCount] = useState<number>(PAGE_SIZE);\n\n  useEffect(() => {\n    cache.clearAll();\n  }, [polls]);\n\n  const rowRenderer = useCallback(({ index, style, key, parent }) => (\n    <RenderItem\n      polls={polls}\n      mutate={mutate}\n      index={index}\n      style={style}\n      cache={cache}\n      parent={parent}\n      key={key}\n      _key={key}\n    />\n  ), [polls, mutate]);\n\n  const loadMoreRows = useCallback(async () => {\n    setDisplayCount(previousCount => previousCount + PAGE_SIZE);\n  }, []);\n\n  const isRowLoaded = useCallback(({ index }) => {\n    return index < displayCount - 1 || displayCount === polls.length;\n  }, [displayCount, polls]);\n\n  const rowCount = useMemo(() => {\n    return _.min([displayCount, polls.length]) || polls.length;\n  }, [displayCount, polls.length]);\n\n  return (\n    <WindowScroller>\n      {({\n        height,\n        isScrolling,\n        registerChild,\n        onChildScroll,\n        scrollTop\n      }) => (\n        <AutoSizer disableHeight>\n          {({ width }) => (\n            <div ref={registerChild}>\n              <InfiniteLoader\n                isRowLoaded={isRowLoaded}\n                loadMoreRows={loadMoreRows}\n                rowCount={rowCount}\n                threshold={1}\n              >\n                {({ onRowsRendered, registerChild: ref }) => (\n                  <List\n                    autoHeight\n                    height={height}\n                    isScrolling={isScrolling}\n                    onScroll={onChildScroll}\n                    rowCount={rowCount}\n                    rowHeight={cache.rowHeight}\n                    rowRenderer={rowRenderer}\n                    scrollTop={scrollTop}\n                    width={width}\n                    containerStyle={{ pointerEvents: 'auto' }}\n                    overscanRowCount={2}\n                    onRowsRendered={onRowsRendered}\n                    ref={ref}\n                    deferredMeasurementCache={cache}\n                  />\n                )}\n              </InfiniteLoader>\n            </div>\n          )}\n        </AutoSizer>\n      )}\n    </WindowScroller>\n  );\n};\n\nexport default PollsList;\n\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar RADIUS_STANDARD = 10;\nvar RADIUS_DOT = 4;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'inline-flex',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the badge `span` element. */\n    badge: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      alignContent: 'center',\n      alignItems: 'center',\n      position: 'absolute',\n      boxSizing: 'border-box',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(12),\n      minWidth: RADIUS_STANDARD * 2,\n      lineHeight: 1,\n      padding: '0 6px',\n      height: RADIUS_STANDARD * 2,\n      borderRadius: RADIUS_STANDARD,\n      zIndex: 1,\n      // Render the badge on top of potential ripples.\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      backgroundColor: theme.palette.error.main,\n      color: theme.palette.error.contrastText\n    },\n\n    /* Styles applied to the root element if `variant=\"dot\"`. */\n    dot: {\n      borderRadius: RADIUS_DOT,\n      height: RADIUS_DOT * 2,\n      minWidth: RADIUS_DOT * 2,\n      padding: 0\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginTopRightRectangle: {\n      top: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomRightRectangle: {\n      bottom: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginTopLeftRectangle: {\n      top: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomLeftRectangle: {\n      bottom: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"circle\"`. */\n    anchorOriginTopRightCircle: {\n      top: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"circle\"`. */\n    anchorOriginBottomRightCircle: {\n      bottom: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"circle\"`. */\n    anchorOriginTopLeftCircle: {\n      top: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"circle\"`. */\n    anchorOriginBottomLeftCircle: {\n      bottom: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Pseudo-class to the badge `span` element if `invisible={true}`. */\n    invisible: {\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    }\n  };\n};\nvar Badge = React.forwardRef(function Badge(props, ref) {\n  var _props$anchorOrigin = props.anchorOrigin,\n      anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'top',\n    horizontal: 'right'\n  } : _props$anchorOrigin,\n      badgeContent = props.badgeContent,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      ComponentProp = _props$component === void 0 ? 'span' : _props$component,\n      invisibleProp = props.invisible,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 99 : _props$max,\n      _props$overlap = props.overlap,\n      overlap = _props$overlap === void 0 ? 'rectangle' : _props$overlap,\n      _props$showZero = props.showZero,\n      showZero = _props$showZero === void 0 ? false : _props$showZero,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchorOrigin\", \"badgeContent\", \"children\", \"classes\", \"className\", \"color\", \"component\", \"invisible\", \"max\", \"overlap\", \"showZero\", \"variant\"]);\n\n  var invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContent === 0 && !showZero || badgeContent == null && variant !== 'dot')) {\n    invisible = true;\n  }\n\n  var displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent > max ? \"\".concat(max, \"+\") : badgeContent;\n  }\n\n  return /*#__PURE__*/React.createElement(ComponentProp, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), children, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.badge, classes[\"\".concat(anchorOrigin.horizontal).concat(capitalize(anchorOrigin.vertical), \"}\")], classes[\"anchorOrigin\".concat(capitalize(anchorOrigin.vertical)).concat(capitalize(anchorOrigin.horizontal)).concat(capitalize(overlap))], color !== 'default' && classes[\"color\".concat(capitalize(color))], invisible && classes.invisible, variant === 'dot' && classes.dot)\n  }, displayValue));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the badge will be invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   */\n  overlap: PropTypes.oneOf(['circle', 'rectangle']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['dot', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBadge'\n})(Badge);","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), React.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'CameraAlt');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'CheckCircleOutline');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface PropTypes {\n  text: string;\n  value: string | number;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'relative'\n  },\n  menuButton: {\n    width: 200,\n    height: 50,\n    textAlign: 'center'\n  },\n  menuNumber: {\n    fontWeight: 800,\n    color: 'black'\n  },\n  menuText: {\n    color: 'darkgray'\n  }\n});\n\n\nconst Highlight: React.FC<PropTypes> = ({ text, value }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.menuButton}>\n      <div className={classes.menuNumber}>{value}</div>\n      <div className={classes.menuText}>{text}</div>\n    </div>\n  );\n};\n\nexport default Highlight;\n","import React, { useState, useCallback } from 'react';\nimport { Badge, Typography, CircularProgress } from '@material-ui/core/';\nimport { CameraAlt, CheckCircleOutline } from '@material-ui/icons/';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { User } from 'which-types';\n\nimport Highlight from './Highlight';\nimport FileUpload from '../../components/FileUpload/FileUpload';\nimport Avatar from '../../components/Avatar/Avatar';\nimport { patch } from '../../requests';\nimport { useAuth } from '../../hooks/useAuth';\nimport uploadFileToS3 from '../../utils/uploadFileToS3';\n\ninterface PropTypes {\n  savedPolls: number;\n  totalVotes: number;\n  userInfo: User | undefined;\n  setUserInfo: (userInfo: User) => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relative',\n    marginBottom: theme.spacing(4)\n  },\n  avatar: {\n    width: 150,\n    height: 150,\n    position: 'relative',\n    margin: '0 auto'\n  },\n  darken: {\n    filter: 'brightness(50%)'\n  },\n  name: {\n    margin: theme.spacing(1, 0),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  verified: {\n    marginLeft: theme.spacing(0.5),\n    width: theme.spacing(3),\n    height: theme.spacing(3)\n  },\n  profileMenu: {\n    display: 'flex',\n    width: '100%',\n    height: 50,\n    marginTop: theme.spacing(6),\n    borderBottom: '1px solid lightgray'\n  },\n  menuButton: {\n    width: 200,\n    height: 50,\n    textAlign: 'center'\n  },\n  badge: {\n    width: theme.spacing(5),\n    height: theme.spacing(5),\n    borderRadius: '50%',\n    cursor: 'pointer',\n    background: '#d3d3d3',\n    display: 'flex',\n    alignItems: 'center',\n    '& svg': {\n      margin: '0 auto'\n    }\n  },\n  avatarContainer: {\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  menuNumber: {\n    fontWeight: 800,\n    color: 'black'\n  },\n  menuText: {\n    color: 'darkgray'\n  },\n  skeleton: {\n    margin: '10px auto',\n    borderRadius: 2\n  },\n  progress: {\n    position: 'absolute',\n    color: 'white'\n  }\n}));\n\n\nconst ProfileInfo: React.FC<PropTypes> = ({\n  savedPolls, totalVotes, setUserInfo, userInfo\n}) => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const [progress, setProgress] = useState<number>(0);\n\n  const dateSince = new Date(userInfo?.createdAt || '').toLocaleDateString();\n\n  const handleUpdateAvatar = useCallback(async (file: File) => {\n    if (user) {\n      uploadFileToS3(file, 0.8, setProgress)\n        .then(avatarUrl => patch(`/users/${user._id}`, { avatarUrl }))\n        .then(response => setUserInfo(response.data))\n        .then(() => setProgress(0));\n    }\n  }, [user, setUserInfo]);\n\n  return (\n    <div className={classes.root}>\n      {\n        !userInfo\n          ? <Skeleton animation=\"wave\" variant=\"circle\" width={150} height={150} className={classes.avatar} />\n          : userInfo?._id === user?._id\n            ? (\n              <div className={classes.avatarContainer}>\n                <Badge\n                  overlap=\"circle\"\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right'\n                  }}\n                  className={classes.avatarContainer}\n                  badgeContent={(\n                    <FileUpload callback={handleUpdateAvatar}>\n                      <div className={classes.badge}>\n                        <CameraAlt />\n                      </div>\n                    </FileUpload>\n                  )}\n                >\n                  <Avatar className={[classes.avatar, progress && classes.darken].join(' ')} user={userInfo} />\n                  {progress > 0 && (\n                    <CircularProgress variant=\"static\" value={progress} className={classes.progress} />\n                  )}\n                </Badge>\n              </div>\n            )\n            : <Avatar className={classes.avatar} user={userInfo} />\n      }\n      {\n        !userInfo\n          ? <Skeleton animation=\"wave\" variant=\"rect\" width={100} height={20} className={classes.skeleton} />\n          : (\n            <Typography variant=\"h5\" className={classes.name}>\n              {userInfo?.username}\n              {userInfo?.verified && <CheckCircleOutline className={classes.verified} color=\"primary\" />}\n            </Typography>\n          )\n      }\n      <div className={classes.profileMenu}>\n        {\n          !userInfo\n            ? (\n              <>\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n              </>\n            )\n            : (\n              <>\n                <Highlight text=\"Polls\" value={savedPolls} />\n                <Highlight text=\"Since\" value={dateSince} />\n                <Highlight text=\"Total votes\" value={totalVotes} />\n              </>\n            )\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React, { useEffect, useMemo } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Poll } from 'which-types';\nimport { Container } from '@material-ui/core';\n\nimport ProfileInfo from './ProfileInfo';\nimport PollsList from '../../components/PollsList/PollsList';\nimport Loading from '../../components/Loading/Loading';\nimport Fab from '../../components/Fab/Fab';\nimport EmptyState from '../../components/EmptyState/EmptyState';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useUser, useProfile } from '../../hooks/APIClient';\n\n\nconst Profile: React.FC = () => {\n  const history = useHistory();\n  const { username } = useParams();\n  const { user } = useAuth();\n\n  const { data: userInfo, mutate: setUserInfo } = useUser(username);\n  const { data: polls, mutate: mutatePolls, isValidating } = useProfile(username);\n\n  useEffect(() => {\n    if (!username) {\n      if (user) history.push(`/profile/${user.username}`);\n      else history.push('/login');\n    }\n  }, [username, history, user]);\n\n  const isOwnProfile = useMemo(() => user?.username === username, [user, username]);\n  const message = useMemo(() => {\n    return isOwnProfile\n      ? 'Create a poll and it will show up here.'\n      : 'This user has not uploaded anything yet.';\n  }, [isOwnProfile]);\n\n  const totalVotes = useMemo(() => polls?.reduce(\n    (total: number, current: Poll) => {\n      const { left, right } = current.contents;\n      return total + left.votes + right.votes;\n    }, 0\n  ) || 0, [polls]);\n\n  return (\n    <Container maxWidth=\"sm\" disableGutters>\n      <ProfileInfo\n        userInfo={userInfo}\n        setUserInfo={setUserInfo}\n        savedPolls={polls?.length || 0}\n        totalVotes={totalVotes}\n      />\n      {\n        polls\n          ? polls.length\n            ? <PollsList polls={polls} mutate={mutatePolls} />\n            : <EmptyState message={message} />\n          : isValidating && <Loading />\n      }\n      {isOwnProfile && <Fab />}\n    </Container>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}