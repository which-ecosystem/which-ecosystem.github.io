{"version":3,"sources":["components/ReviewCard/ReviewCard.tsx","containers/Home/ReviewForm.tsx","containers/Home/Home.tsx"],"names":["useStyles","makeStyles","theme","root","margin","spacing","ReviewCard","feedback","classes","Card","className","elevation","UserStrip","user","author","info","Rating","value","score","readOnly","size","contents","Divider","CardContent","Typography","display","flexDirection","textField","ReviewForm","useState","setContents","setScore","history","useHistory","enqueueSnackbar","useSnackbar","onChange","event","newScore","TextField","target","label","variant","rows","multiline","Button","color","onClick","post","version","then","push","overflow","padding","logo","width","height","fontWeight","signup","marginLeft","reviews","breakpoints","up","Home","feedbacks","useFeedback","data","useAuth","isAuthenticated","useTheme","isMobile","useMediaQuery","down","rating","length","reduce","acc","handleSignUp","GithubLink","Link","href","TypescriptLink","ReactLink","FeathersLink","MUILink","EmailLink","Reviews","map","FeedbackSection","findIndex","_id","Grid","container","item","xs","md","direction","alignItems","Image","src","process","alt","toFixed","startIcon"],"mappings":"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","file":"static/js/11.143fe7bf.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Divider\n} from '@material-ui/core/';\nimport { Rating } from '@material-ui/lab';\nimport { Feedback } from 'which-types';\n\nimport UserStrip from '../UserStrip/UserStrip';\n\ninterface PropTypes {\n  feedback: Feedback;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    margin: theme.spacing(4, 0, 1, 0)\n  }\n}));\n\nconst ReviewCard: React.FC<PropTypes> = ({ feedback }) => {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} elevation={2}>\n      <UserStrip\n        user={feedback.author}\n        info={<Rating value={feedback.score} readOnly size=\"small\" />}\n      />\n      {feedback.contents && (\n        <>\n          <Divider />\n          <CardContent>\n            <Typography>\n              {feedback.contents}\n            </Typography>\n          </CardContent>\n        </>\n      )}\n    </Card>\n  );\n};\n\nexport default ReviewCard;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField, Button } from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\nimport { useSnackbar } from 'notistack';\n\nimport { post } from '../../requests';\n\nconst version = 'v1.0.0';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  textField: {\n    margin: theme.spacing(2, 0)\n  }\n}));\n\nconst ReviewForm: React.FC = () => {\n  const [contents, setContents] = useState<string>('');\n  const [score, setScore] = useState<number>(0);\n  const classes = useStyles();\n  const history = useHistory();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleSubmit = (): void => {\n    if (score) {\n      post('/feedback', { contents, score, version }).then(() => {\n        enqueueSnackbar('Your feedback has been submitted!', {\n          variant: 'success'\n        });\n        history.push('/feed');\n      });\n    }\n  };\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>): void => {\n    setContents(event.target?.value || '');\n  };\n\n  const handleChangeRating = (event: React.ChangeEvent<Record<string, unknown>>, newScore: number | null): void => {\n    setScore(newScore || 0);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Rating value={score} onChange={handleChangeRating} size=\"large\" />\n      <TextField\n        value={contents}\n        onChange={handleChange}\n        label=\"Feedback\"\n        variant=\"outlined\"\n        className={classes.textField}\n        rows={4}\n        multiline\n      />\n      <div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          onClick={handleSubmit}\n        >\n          submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default ReviewForm;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  Typography,\n  Divider,\n  Grid,\n  Button,\n  Link,\n  useMediaQuery\n} from '@material-ui/core/';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport { Rating } from '@material-ui/lab';\nimport { Feedback } from 'which-types';\n\nimport ReviewCard from '../../components/ReviewCard/ReviewCard';\nimport Image from '../../components/Image/Image';\nimport ReviewForm from './ReviewForm';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useFeedback } from '../../hooks/APIClient';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    overflow: 'hidden',\n    padding: theme.spacing(0, 2)\n  },\n  logo: {\n    width: theme.spacing(20),\n    height: theme.spacing(20)\n  },\n  score: {\n    fontWeight: 'bold'\n  },\n  signup: {\n    marginLeft: theme.spacing(2)\n  },\n  reviews: {\n    [theme.breakpoints.up('md')]: {\n      padding: theme.spacing(0, 10)\n    }\n  }\n}));\n\nconst Home: React.FC = () => {\n  const { data: feedbacks } = useFeedback();\n  const classes = useStyles();\n  const history = useHistory();\n  const { isAuthenticated, user } = useAuth();\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const rating = feedbacks?.length ? feedbacks.reduce(\n    (acc: number, feedback: Feedback) => acc + feedback.score,\n    0\n  ) / feedbacks.length : 0;\n\n  const handleLetsGo = () => {\n    history.push('/feed');\n  };\n\n  const handleSignUp = () => {\n    history.push('/registration');\n  };\n\n  const GithubLink = <Link href=\"https://github.com/which-ecosystem\">GitHub</Link>;\n  const TypescriptLink = <Link href=\"https://www.typescriptlang.org/\">Typescript</Link>;\n  const ReactLink = <Link href=\"https://reactjs.org/\">React</Link>;\n  const FeathersLink = <Link href=\"https://feathersjs.com\">Feathers</Link>;\n  const MUILink = <Link href=\"https://material-ui.com\">Material-UI</Link>;\n  const EmailLink = <Link href=\"mailto: eug-vs@keemail.me\">eug-vs@keemail.me</Link>;\n\n  const Reviews = (\n    <div className={classes.reviews}>\n      {feedbacks?.map((feedback: Feedback) => <ReviewCard feedback={feedback} />)}\n    </div>\n  );\n\n  const FeedbackSection = feedbacks && feedbacks.findIndex(\n    (feedback: Feedback) => feedback.author._id === user?._id\n  ) >= 0 ? (\n    <p>\n      You have already left feedback for this version.\n      If you have more to say, please open GitHub issue or contact us directly via email: {EmailLink}.\n      Alternatively, you can just wait for another application patch to come out.\n    </p>\n    ) : (\n      <>\n        <p>\n          Here you can share your thougts about Which with us!\n          Note that you can ony leave feedback once per application version (there will be plenty of them later).\n        </p>\n        {isAuthenticated ? <ReviewForm /> : (\n          <>\n            <p> You must be authorized to leave feedback.</p>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={handleSignUp}\n            >\n              sign in\n            </Button>\n          </>\n        )}\n      </>\n    );\n\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={4}>\n        <Grid item xs={12} md={4}>\n          <Grid container direction=\"column\" spacing={1} alignItems=\"center\">\n            <Grid item>\n              <Image src={`${process.env.PUBLIC_URL}/which-logo-512.png`} alt=\"logo\" className={classes.logo} />\n            </Grid>\n            <Grid item>\n              {rating !== 0 && <Rating value={rating} readOnly size=\"large\" />}\n            </Grid>\n            <Grid item>\n              {rating !== 0 && (\n                <Typography variant=\"h5\" className={classes.score}>\n                  User score: {rating.toFixed(1)}\n                </Typography>\n              )}\n            </Grid>\n          </Grid>\n          {isMobile || Reviews}\n        </Grid>\n        <Grid item xs={12} md={5}>\n          <Grid container direction=\"column\" spacing={6}>\n            <Grid item>\n              <Typography variant=\"h4\"> Which one to choose? </Typography>\n              <Divider />\n              <Typography>\n                <p>\n                  Have you ever found yourself stuck between two options, not being able to choose any?\n                  This is exactly the problem we are going to solve!\n                </p>\n                <p>Share your minor everyday uncertainties with the whole world and see what others think!</p>\n                <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={handleLetsGo}>\n                  {'let\\'s go!'}\n                </Button>\n                {!isAuthenticated && (\n                  <Button\n                    variant=\"outlined\"\n                    color=\"primary\"\n                    size=\"large\"\n                    className={classes.signup}\n                    onClick={handleSignUp}\n                  >\n                    sign up\n                  </Button>\n                )}\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography variant=\"h4\"> About the project </Typography>\n              <Divider />\n              <Typography>\n                <p>\n                  The project is written in {TypescriptLink} and features {ReactLink}, {FeathersLink}, and {MUILink}.\n                  It is currently open-source and you can visit our {GithubLink} (make sure to star our repositories)!\n                </p>\n                <p>\n                  We encourage any developer to check it out. Feel free to open issues and create Pull Requests!\n                </p>\n                <p>\n                  All the development process is being tracked on the KanBan board (thanks GitHub).\n                  You can always check it to see what is the current state of the project.\n                </p>\n                <Button\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  startIcon={<TrendingUpIcon />}\n                  href=\"https://github.com/orgs/which-ecosystem/projects/1\"\n                >\n                  track our progress\n                </Button>\n              </Typography>\n            </Grid>\n            <Grid item>\n              <Typography variant=\"h4\"> Leave feedback </Typography>\n              <Divider />\n              <Typography>\n                {FeedbackSection}\n              </Typography>\n            </Grid>\n            {isMobile && (\n              <Grid item>\n                {Reviews}\n              </Grid>\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Home;\n\n"],"sourceRoot":""}