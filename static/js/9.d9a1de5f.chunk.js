(this.webpackJsonpwhich=this.webpackJsonpwhich||[]).push([[9],{223:function(e,t,a){"use strict";var n=a(19),i=a(0),r=a.n(i),c=a(102),o=a(142),l=a(233),s=a.n(l),u=a(232),m=a.n(u),h=Object(c.a)((function(e){return{container:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},success:{opacity:"100%",filterBrightness:"100%",filterSaturate:"100%"},loading:{opacity:0,filterBrightness:0,filterSaturate:"20%",position:"absolute"},error:{display:"none"},errorIcon:{color:m.a[300],width:e.spacing(6),height:e.spacing(6)}}})),d=r.a.memo((function(e){var t=e.src,a=e.alt,c=e.className,l=e.animationDuration,u=void 0===l?1e3:l,m=e.disableLoading,d=void 0!==m&&m,g=h(),p=Object(i.useState)("loading"),f=Object(n.a)(p,2),v=f[0],b=f[1],E=Object(i.useCallback)((function(){b("success")}),[b]),y=Object(i.useCallback)((function(){b("error")}),[b]),w=Object(i.useMemo)((function(){return"\n    filterBrightness ".concat(.75*u,"ms cubic-bezier(0.4, 0.0, 0.2, 1),\n    filterSaturate ").concat(u,"ms cubic-bezier(0.4, 0.0, 0.2, 1),\n    opacity ").concat(u/2,"ms cubic-bezier(0.4, 0.0, 0.2, 1)\n  ")}),[u]),j=r.a.createElement("img",{src:t,alt:a,className:"".concat(c," ").concat(g[v]),style:{transition:w},onLoad:E,onError:y});return r.a.createElement(r.a.Fragment,null,t&&j,"success"!==v&&r.a.createElement("div",{className:g.container},"error"!==v&&t?!d&&r.a.createElement(o.a,{color:"primary"}):r.a.createElement(s.a,{className:g.errorIcon})))}));t.a=d},224:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(55),c=a(102),o=a(225),l=a.n(o),s=a(226),u=a.n(s),m=Object(c.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},img:{margin:e.spacing(2),width:e.spacing(24)}}})),h={default:{icon:l.a,tagline:"No content"},construction:{icon:u.a,tagline:"Coming soon"}};t.a=function(e){var t=e.variant,a=void 0===t?"default":t,n=e.message,c=m(),o=h[a],l=o.icon,s=o.tagline;return i.a.createElement("div",{className:c.root},i.a.createElement("img",{src:l,className:c.img,alt:"No content"}),i.a.createElement(r.a,{variant:"h5"},s),i.a.createElement(r.a,{color:"textSecondary"},i.a.createElement("p",null,n)))}},225:function(e,t,a){e.exports=a.p+"static/media/noContent.527b7724.svg"},226:function(e,t,a){e.exports=a.p+"static/media/construction.07ebb9e5.svg"},255:function(e,t,a){"use strict";var n=a(57),i=a(0),r=a.n(i),c=a(10),o=a(175),l=a(176),s=a(389),u=a(102),m=a(285),h=a.n(m),d=Object(u.a)((function(e){var t;return{root:(t={zIndex:1e3,position:"fixed"},Object(n.a)(t,e.breakpoints.down("sm"),{right:e.spacing(2),bottom:e.spacing(8)}),Object(n.a)(t,e.breakpoints.up("md"),{right:e.spacing(5),bottom:e.spacing(5)}),t)}}));t.a=function(e){var t=e.hideOnScroll,a=void 0!==t&&t,n=d(),i=Object(c.f)(),u=Object(o.a)();return r.a.createElement(l.a,{appear:!1,direction:"up",in:!a||!u},r.a.createElement(s.a,{onClick:function(){i.push("/new")},className:n.root,color:"secondary"},r.a.createElement(h.a,null)))}},256:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(290),c=a(291),o=a(282),l=a(102),s=a(284),u=a(364),m=a(71),h=a(283),d=a.n(h),g=Object(l.a)({root:{position:"absolute",color:"white",top:"86%",fontSize:20,textShadow:"0 0 3px black",display:"flex",alignItems:"center"},left:{left:30},right:{right:30}}),p=function(e){var t=e.value,a=e.which,n=e.like,r=g();return i.a.createElement("div",{className:"".concat(r.root," ").concat(r[a])},n&&i.a.createElement(d.a,null),"".concat(t,"%"))},f=a(69),v=a(223),b=Object(l.a)({root:{position:"absolute",width:"100%",height:"100%"},image:{objectFit:"cover",pointerEvents:"none",width:"100%",height:"100%"}}),E=function(e){var t=e.src,a=e.alt,n=b();return i.a.createElement("picture",{className:n.root},i.a.createElement(v.a,{src:t,alt:a,className:n.image}))},y=a(31),w=a(32),j={month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"},O=Object(l.a)((function(e){return{media:{display:"flex",height:e.spacing(50)},rateLine:{position:"relative",width:"100%",height:e.spacing(2),backgroundColor:e.palette.primary.light,transitionDuration:"0.5s"},highlight:{backgroundColor:"".concat(e.palette.primary.main," !important")},fillRateLine:{height:e.spacing(2),backgroundColor:e.palette.primary.light,transitionDuration:"0.5s"}}})),k=i.a.memo((function(e){var t,a,n=e.poll,r=e.setPoll,c=O(),l=n.author,h=n.contents,d=h.left,g=h.right,v=n.vote,b=Object(m.b)().enqueueSnackbar,k=Object(w.b)().isAuthenticated,x=new Date(n.createdAt).toLocaleString("default",j),C=function(e){if(k)if(v)b("You have already voted in this poll",{variant:"error"});else{var t={which:e,pollId:n._id},a=Object(o.a)({},n);a.contents[e].votes+=1,a.vote=Object(o.a)({_id:"",authorId:"",createdAt:new Date},t),r(a),Object(y.c)("votes/",t)}else b("Unauthorized users can not vote in polls",{variant:"error"})};d.votes||g.votes?a=100-(t=Math.round(d.votes/(d.votes+g.votes)*100)):(t=0,a=0);var N=d.votes>=g.votes?"left":"right";return i.a.createElement(s.a,null,i.a.createElement(f.a,{user:l,info:x}),i.a.createElement("div",{className:c.media},i.a.createElement(u.a,{onDoubleClick:function(){return C("left")},className:c.media},i.a.createElement(E,{src:d.url}),i.a.createElement(p,{value:t,which:"left",like:"left"===(null===v||void 0===v?void 0:v.which)})),i.a.createElement(u.a,{onDoubleClick:function(){return C("right")},className:c.media},i.a.createElement(E,{src:g.url}),i.a.createElement(p,{value:a,which:"right",like:"right"===(null===v||void 0===v?void 0:v.which)}))),i.a.createElement("div",{className:"".concat(c.rateLine," ").concat("right"===N?c.highlight:"")},i.a.createElement("div",{className:"".concat(c.fillRateLine," ").concat("left"===N?c.highlight:""),style:{width:"".concat(t,"%")}})))})),x=i.a.memo((function(e){var t=e.polls,a=e.mutate,r=e.index,o=e.style,l=e._key,s=t[r],u=Object(n.useCallback)((function(e){var n=Object(c.a)(t);n[r]=e,a([],!1),a(n,!1)}),[a,r,t]);return i.a.createElement("div",{key:l,style:o},i.a.createElement(k,{poll:s,setPoll:u}))}),(function(e,t){return e._key===t._key&&(e.index===t.index&&e.polls===t.polls)}));t.a=function(e){var t=e.polls,a=e.mutate,c=Object(n.useCallback)((function(e){var n=e.index,r=e.style,c=e.key;return i.a.createElement(x,{polls:t,mutate:a,index:n,style:r,key:c,_key:c})}),[t,a]);return i.a.createElement(r.c,null,(function(e){var a=e.height,n=e.isScrolling,o=e.registerChild,l=e.onChildScroll,s=e.scrollTop;return i.a.createElement(r.a,{disableHeight:!0},(function(e){var u=e.width;return i.a.createElement("div",{ref:o},i.a.createElement(r.b,{autoHeight:!0,height:a,isScrolling:n,onScroll:l,rowCount:t.length,rowHeight:550,rowRenderer:c,scrollTop:s,width:u,containerStyle:{pointerEvents:"auto"},overscanRowCount:2}))}))}))}},390:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(365),c=a(256),o=a(255),l=a(76),s=a(224),u=a(32),m=a(68);t.default=function(){var e=Object(m.a)(),t=e.data,a=e.isValidating,n=e.mutate,h=Object(u.b)().isAuthenticated;return i.a.createElement(r.a,{maxWidth:"sm",disableGutters:!0},h&&i.a.createElement(o.a,{hideOnScroll:!0}),t?t.length?i.a.createElement(c.a,{polls:t,mutate:n}):i.a.createElement(s.a,null):a&&i.a.createElement(l.a,null))}}}]);
//# sourceMappingURL=9.d9a1de5f.chunk.js.map