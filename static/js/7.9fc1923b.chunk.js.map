{"version":3,"sources":["components/Image/BackgroundImage.tsx","components/FileUpload/FileUpload.tsx","utils/uploadFileToS3.ts","components/Fab/Fab.tsx","components/PollCard/PercentageBar.tsx","components/PollCard/PollCard.tsx","components/PollsList/RenderItem.tsx","components/PollsList/PollsList.tsx","../node_modules/@material-ui/core/esm/Button/Button.js","../node_modules/@material-ui/core/esm/Badge/Badge.js","../node_modules/@material-ui/icons/esm/CameraAlt.js","../node_modules/@material-ui/icons/esm/CheckCircleOutline.js","../node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js","containers/Profile/Highlight.tsx","containers/Profile/ProfileInfo.tsx","containers/Profile/Profile.tsx"],"names":["useStyles","makeStyles","root","position","width","height","image","objectFit","pointerEvents","BackgroundImage","src","alt","classes","className","FileUpload","callback","children","inputRef","useRef","handleClick","current","click","child","React","Children","only","defaultButton","onClick","variant","color","size","startIcon","type","ref","multiple","accept","style","display","onChange","event","files","target","length","isValidElement","cloneElement","compressFile","file","quality","Promise","resolve","reject","Compressor","success","result","error","err","setProgress","config","headers","onUploadProgress","progressEvent","loaded","total","progress","Math","round","Bluebird","all","get","name","then","response","compressedFile","uploadUrl","data","axios","put","uri","url","slice","indexOf","theme","zIndex","breakpoints","down","right","spacing","bottom","up","Fab","hideOnScroll","history","useHistory","trigger","useScrollTrigger","appear","direction","in","push","top","fontSize","textShadow","alignItems","left","PercentageBar","value","which","like","DATE_FORMAT","month","day","year","hour","minute","media","rateLine","backgroundColor","palette","primary","light","transitionDuration","highlight","main","fillRateLine","PollCard","memo","leftPercentage","rightPercentage","poll","setPoll","author","contents","vote","enqueueSnackbar","useSnackbar","isAuthenticated","useAuth","date","Date","createdAt","toLocaleString","handleVote","newVote","pollId","_id","newPoll","votes","authorId","post","dominant","Card","elevation","UserStrip","user","info","CardActionArea","onDoubleClick","RenderItem","polls","mutate","index","_key","useCallback","newPolls","key","oldProps","newProps","PollsList","useState","displayCount","setDisplayCount","rowRenderer","loadMoreRows","a","previousCount","isRowLoaded","rowCount","useMemo","_","min","isScrolling","registerChild","onChildScroll","scrollTop","disableHeight","threshold","onRowsRendered","autoHeight","onScroll","rowHeight","containerStyle","overscanRowCount","Button","props","_props$color","_props$component","component","_props$disabled","disabled","_props$disableElevati","disableElevation","_props$disableFocusRi","disableFocusRipple","endIconProp","endIcon","focusVisibleClassName","_props$fullWidth","fullWidth","_props$size","startIconProp","_props$type","_props$variant","other","_objectWithoutProperties","clsx","concat","capitalize","ButtonBase","_extends","colorInherit","focusRipple","focusVisible","label","withStyles","typography","button","boxSizing","minWidth","padding","borderRadius","shape","text","transition","transitions","create","duration","short","textDecoration","fade","action","hoverOpacity","justifyContent","textPrimary","textSecondary","secondary","outlined","border","disabledBackground","outlinedPrimary","outlinedSecondary","contained","getContrastText","grey","boxShadow","shadows","A100","containedPrimary","contrastText","dark","containedSecondary","borderColor","textSizeSmall","pxToRem","textSizeLarge","outlinedSizeSmall","outlinedSizeLarge","containedSizeSmall","containedSizeLarge","sizeSmall","sizeLarge","marginRight","marginLeft","iconSizeSmall","iconSizeMedium","iconSizeLarge","Badge","_props$anchorOrigin","anchorOrigin","vertical","horizontal","badgeContent","ComponentProp","invisibleProp","invisible","_props$max","max","_props$overlap","overlap","_props$showZero","showZero","displayValue","badge","dot","verticalAlign","flexShrink","flexDirection","flexWrap","alignContent","fontFamily","fontWeight","fontWeightMedium","RADIUS_STANDARD","lineHeight","easing","easeInOut","enteringScreen","colorPrimary","colorSecondary","colorError","RADIUS_DOT","anchorOriginTopRightRectangle","transform","transformOrigin","anchorOriginBottomRightRectangle","anchorOriginTopLeftRectangle","anchorOriginBottomLeftRectangle","anchorOriginTopRightCircle","anchorOriginBottomRightCircle","anchorOriginTopLeftCircle","anchorOriginBottomLeftCircle","leavingScreen","createSvgIcon","createElement","Fragment","cx","cy","r","d","Skeleton","_props$animation","animation","Component","hasChildren","Boolean","withChildren","fitContent","heightAuto","marginTop","marginBottom","content","rect","circle","pulse","opacity","wave","overflow","background","hover","visibility","maxWidth","menuButton","textAlign","menuNumber","menuText","Highlight","avatar","margin","verified","profileMenu","borderBottom","cursor","avatarContainer","skeleton","ProfileInfo","savedPolls","totalVotes","setUserInfo","userInfo","dateSince","toLocaleDateString","handleUpdateAvatar","uploadFileToS3","avatarUrl","patch","CameraAlt","Avatar","CircularProgress","Typography","username","CheckCircleOutline","Profile","useParams","useUser","useProfile","mutatePolls","isValidating","useEffect","isOwnProfile","message","reduce","Container","disableGutters","EmptyState","Loading"],"mappings":"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","file":"static/js/7.9fc1923b.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Image from './Image';\n\ninterface PropTypes {\n  src?: string;\n  alt?: string;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%'\n  },\n  image: {\n    objectFit: 'cover',\n    pointerEvents: 'none',\n    width: '100%',\n    height: '100%'\n  }\n});\n\nconst BackgroundImage: React.FC<PropTypes> = ({ src, alt }) => {\n  const classes = useStyles();\n\n  return (\n    <picture className={classes.root}>\n      <Image src={src} alt={alt} className={classes.image} />\n    </picture>\n  );\n};\n\nexport default BackgroundImage;\n\n","import React, { useRef } from 'react';\nimport Button from '@material-ui/core/Button';\nimport CloudUpload from '@material-ui/icons/CloudUpload';\n\ninterface PropTypes {\n  callback: (file: File) => void;\n}\n\n\nconst FileUpload: React.FC<PropTypes> = ({ callback, children }) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const files = event.target?.files;\n    if (files?.length) callback(files[0]);\n  };\n\n  const handleClick = () => {\n    if (inputRef?.current) inputRef.current.click();\n  };\n\n  const child = children && React.Children.only(children);\n\n  const defaultButton = (\n    <Button\n      onClick={handleClick}\n      variant=\"contained\"\n      color=\"primary\"\n      size=\"large\"\n      startIcon={<CloudUpload />}\n    >\n      Upload\n    </Button>\n  );\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        ref={inputRef}\n        multiple={false}\n        accept=\".jpg, .jpeg, .png, .gif\"\n        style={{ display: 'none' }}\n        onChange={handleChange}\n      />\n      {\n        React.isValidElement(child)\n          ? React.cloneElement(child, { onClick: handleClick })\n          : defaultButton\n      }\n    </>\n  );\n};\n\nexport default FileUpload;\n","import Compressor from 'compressorjs';\nimport axios from 'axios';\nimport Bluebird from 'bluebird';\nimport { get } from '../requests';\n\ninterface ProgressEvent {\n  loaded: number;\n  total: number;\n}\n\ntype SetProgress = (progress: number) => void;\n\n\nconst compressFile = (file: File, quality = 0.6): Promise<File | Blob> => {\n  return new Promise((resolve, reject) => {\n    if (quality === 1) return resolve(file);\n    return new Compressor(file, {\n      success: result => resolve(result),\n      error: err => reject(err),\n      quality\n    });\n  });\n};\n\nexport default (file: File, quality?: number, setProgress?: SetProgress): Promise<string> => {\n  const onUploadProgress = (progressEvent: ProgressEvent): void => {\n    if (setProgress) {\n      const { loaded, total } = progressEvent;\n      // Only allow upload progress reach 95%, and set 100% when request is resolved\n      const progress = Math.round((loaded * 95) / total);\n      setProgress(progress);\n    }\n  };\n\n  const config = {\n    headers: { 'Content-Type': 'image/png' },\n    onUploadProgress\n  };\n\n  // Add querystring to avoid caching request in some browsers, see\n  // https://stackoverflow.com/questions/59339561/safari-skipping-xmlhttprequests\n  return Bluebird.all([get(`/files?key=${file.name}`), compressFile(file, quality)])\n    .then(([response, compressedFile]) => {\n      const uploadUrl = response.data;\n      return axios.put(uploadUrl, compressedFile, config);\n    })\n    .then(response => {\n      if (setProgress) setProgress(100);\n      const uri = response.config.url;\n      return uri ? uri.slice(0, uri.indexOf('?')) : '';\n    });\n};\n\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Fab as FabBase, Slide, useScrollTrigger } from '@material-ui/core/';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlusIcon from '@material-ui/icons/Add';\n\ninterface PropTypes {\n  hideOnScroll?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    zIndex: 1000,\n    position: 'fixed',\n\n    [theme.breakpoints.down('sm')]: {\n      right: theme.spacing(2),\n      bottom: theme.spacing(8)\n    },\n    [theme.breakpoints.up('md')]: {\n      right: theme.spacing(5),\n      bottom: theme.spacing(5)\n    }\n  }\n}));\n\nconst Fab: React.FC<PropTypes> = ({ hideOnScroll = false }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const trigger = useScrollTrigger();\n\n  const handleClick = () => {\n    history.push('/new');\n  };\n\n  return (\n    <Slide appear={false} direction=\"up\" in={(!hideOnScroll) || !trigger}>\n      <FabBase\n        onClick={handleClick}\n        className={classes.root}\n        color=\"secondary\"\n      >\n        <PlusIcon />\n      </FabBase>\n    </Slide>\n  );\n};\n\nexport default Fab;\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LikeIcon from '@material-ui/icons/Favorite';\n\ninterface PropTypes {\n  value: number;\n  which: 'left' | 'right';\n  like: boolean;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    color: 'white',\n    top: '86%',\n    fontSize: 20,\n    textShadow: '0 0 3px black',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  left: {\n    left: 30\n  },\n  right: {\n    right: 30\n  }\n});\n\nconst PercentageBar: React.FC<PropTypes> = ({ value, which, like }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={`${classes.root} ${classes[which]}`}>\n      {like && <LikeIcon />}\n      {`${value}%`}\n    </div>\n  );\n};\n\n\nexport default PercentageBar;\n\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Card, CardActionArea } from '@material-ui/core/';\nimport { Which, Poll } from 'which-types';\nimport { useSnackbar } from 'notistack';\n\nimport PercentageBar from './PercentageBar';\nimport UserStrip from '../UserStrip/UserStrip';\nimport BackgroundImage from '../Image/BackgroundImage';\nimport { post } from '../../requests';\nimport { useAuth } from '../../hooks/useAuth';\n\ninterface PropTypes {\n  poll: Poll;\n  setPoll: (poll: Poll) => void;\n}\n\nconst DATE_FORMAT = {\n  month: 'long',\n  day: 'numeric',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit'\n};\n\nconst useStyles = makeStyles(theme => ({\n  media: {\n    display: 'flex',\n    height: theme.spacing(50)\n  },\n  rateLine: {\n    position: 'relative',\n    width: '100%',\n    height: theme.spacing(2),\n    backgroundColor: theme.palette.primary.light,\n    transitionDuration: '0.5s'\n  },\n  highlight: {\n    backgroundColor: `${theme.palette.primary.main} !important`\n  },\n  fillRateLine: {\n    height: theme.spacing(2),\n    backgroundColor: theme.palette.primary.light,\n    transitionDuration: '0.5s'\n  }\n}));\n\nconst PollCard: React.FC<PropTypes> = React.memo(({ poll, setPoll }) => {\n  const classes = useStyles();\n  const { author, contents: { left, right }, vote } = poll;\n  const { enqueueSnackbar } = useSnackbar();\n  const { isAuthenticated } = useAuth();\n  const date: string = new Date(poll.createdAt).toLocaleString('default', DATE_FORMAT);\n\n  const handleVote = (which: Which) => {\n    if (!isAuthenticated) {\n      enqueueSnackbar('Unauthorized users can not vote in polls', {\n        variant: 'error'\n      });\n    } else if (vote) {\n      enqueueSnackbar('You have already voted in this poll', {\n        variant: 'error'\n      });\n    } else {\n      const newVote = ({ which, pollId: poll._id });\n      const newPoll = { ...poll };\n      newPoll.contents[which].votes += 1;\n      newPoll.vote = {\n        _id: '',\n        authorId: '',\n        createdAt: new Date(),\n        ...newVote\n      };\n      setPoll(newPoll);\n\n      post('votes/', newVote);\n    }\n  };\n\n  const handleLeft = () => handleVote('left');\n  const handleRight = () => handleVote('right');\n\n  let leftPercentage;\n  let rightPercentage;\n\n  if (left.votes || right.votes) {\n    leftPercentage = Math.round(100 * (left.votes / (left.votes + right.votes)));\n    rightPercentage = 100 - leftPercentage;\n  } else {\n    leftPercentage = 0;\n    rightPercentage = 0;\n  }\n\n  const dominant: Which = left.votes >= right.votes ? 'left' : 'right';\n\n  return (\n    <Card elevation={3}>\n      <UserStrip user={author} info={date} />\n      <div className={classes.media}>\n        <CardActionArea onDoubleClick={handleLeft} className={classes.media}>\n          <BackgroundImage src={left.url} />\n          <PercentageBar value={leftPercentage} which=\"left\" like={vote?.which === 'left'} />\n        </CardActionArea>\n        <CardActionArea onDoubleClick={handleRight} className={classes.media}>\n          <BackgroundImage src={right.url} />\n          <PercentageBar value={rightPercentage} which=\"right\" like={vote?.which === 'right'} />\n        </CardActionArea>\n      </div>\n      <div className={`${classes.rateLine} ${dominant === 'right' ? classes.highlight : ''}`}>\n        <div\n          className={`${classes.fillRateLine} ${dominant === 'left' ? classes.highlight : ''}`}\n          style={{ width: `${leftPercentage}%` }}\n        />\n      </div>\n    </Card>\n  );\n});\n\nexport default PollCard;\n","import React, { useCallback } from 'react';\nimport { Poll } from 'which-types';\nimport PollCard from '../PollCard/PollCard';\n\n\ninterface PropTypes {\n  polls: Poll[];\n  mutate: (polls: Poll[], refetch: boolean) => void;\n  index: number;\n  style: React.CSSProperties;\n  _key: string; // https://reactjs.org/warnings/special-props.html\n}\n\nconst compareProps = (oldProps: PropTypes, newProps: PropTypes) => {\n  if (oldProps._key !== newProps._key) return false;\n  if (oldProps.index !== newProps.index) return false;\n  if (oldProps.polls !== newProps.polls) return false;\n  // TODO: uncomment line below to listen to style updates\n  // if (JSON.stringify(oldProps.style)!== JSON.stringify(newProps.style)) return false;\n  return true;\n};\n\nconst RenderItem: React.FC<PropTypes> = React.memo(({\n  polls, mutate, index, style, _key\n}) => {\n  const poll = polls[index];\n\n  const setPoll = useCallback((newPoll: Poll) => {\n    const newPolls = [...polls];\n    newPolls[index] = newPoll;\n\n    // Force-update list-size so everything re-renders\n    mutate([], false);\n    mutate(newPolls, false);\n  }, [mutate, index, polls]);\n\n  return (\n    <div key={`${_key}-${poll._id}`} style={style}>\n      <PollCard poll={poll} setPoll={setPoll} />\n    </div>\n  );\n}, compareProps);\n\n\nexport default RenderItem;\n\n","import React, { useCallback, useState, useMemo } from 'react';\nimport {\n  WindowScroller,\n  AutoSizer,\n  List,\n  InfiniteLoader\n} from 'react-virtualized';\nimport _ from 'lodash';\nimport { Poll } from 'which-types';\n\nimport RenderItem from './RenderItem';\n\ninterface PropTypes {\n  polls: Poll[];\n  mutate: (polls: Poll[], refetch: boolean) => void;\n}\n\nconst PAGE_SIZE = 10;\n\nconst PollsList: React.FC<PropTypes> = ({ polls, mutate }) => {\n  const [displayCount, setDisplayCount] = useState<number>(PAGE_SIZE);\n\n  const rowRenderer = useCallback(({ index, style, key }) => (\n    <RenderItem\n      polls={polls}\n      mutate={mutate}\n      index={index}\n      style={style}\n      key={key}\n      _key={key}\n    />\n  ), [polls, mutate]);\n\n  const loadMoreRows = useCallback(async () => {\n    setDisplayCount(previousCount => previousCount + PAGE_SIZE);\n  }, []);\n\n  const isRowLoaded = useCallback(({ index }) => {\n    return index < displayCount - 1 || displayCount === polls.length;\n  }, [displayCount, polls]);\n\n  const rowCount = useMemo(() => {\n    return _.min([displayCount, polls.length]) || polls.length;\n  }, [displayCount, polls.length]);\n\n  return (\n    <WindowScroller>\n      {({\n        height,\n        isScrolling,\n        registerChild,\n        onChildScroll,\n        scrollTop\n      }) => (\n        <AutoSizer disableHeight>\n          {({ width }) => (\n            <div ref={registerChild}>\n              <InfiniteLoader\n                isRowLoaded={isRowLoaded}\n                loadMoreRows={loadMoreRows}\n                rowCount={rowCount}\n                threshold={1}\n              >\n                {({ onRowsRendered, registerChild: ref }) => (\n                  <List\n                    autoHeight\n                    height={height}\n                    isScrolling={isScrolling}\n                    onScroll={onChildScroll}\n                    rowCount={rowCount}\n                    rowHeight={550}\n                    rowRenderer={rowRenderer}\n                    scrollTop={scrollTop}\n                    width={width}\n                    containerStyle={{ pointerEvents: 'auto' }}\n                    overscanRowCount={2}\n                    onRowsRendered={onRowsRendered}\n                    ref={ref}\n                  />\n                )}\n              </InfiniteLoader>\n            </div>\n          )}\n        </AutoSizer>\n      )}\n    </WindowScroller>\n  );\n};\n\nexport default PollsList;\n\n","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends(_extends({}, theme.typography.button), {}, {\n      boxSizing: 'border-box',\n      minWidth: 64,\n      padding: '6px 16px',\n      borderRadius: theme.shape.borderRadius,\n      color: theme.palette.text.primary,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      '&:hover': {\n        textDecoration: 'none',\n        backgroundColor: fade(theme.palette.text.primary, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      padding: '6px 8px'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"primary\"`. */\n    textPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"` and `color=\"secondary\"`. */\n    textSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"`. */\n    outlined: {\n      padding: '5px 15px',\n      border: \"1px solid \".concat(theme.palette.type === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'),\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabledBackground)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"primary\"`. */\n    outlinedPrimary: {\n      color: theme.palette.primary.main,\n      border: \"1px solid \".concat(fade(theme.palette.primary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.primary.main),\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"secondary\"`. */\n    outlinedSecondary: {\n      color: theme.palette.secondary.main,\n      border: \"1px solid \".concat(fade(theme.palette.secondary.main, 0.5)),\n      '&:hover': {\n        border: \"1px solid \".concat(theme.palette.secondary.main),\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        border: \"1px solid \".concat(theme.palette.action.disabled)\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"`. */\n    contained: {\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      boxShadow: theme.shadows[2],\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        boxShadow: theme.shadows[4],\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          boxShadow: theme.shadows[2],\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        }\n      },\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&:active': {\n        boxShadow: theme.shadows[8]\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"primary\"`. */\n    containedPrimary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"contained\"` and `color=\"secondary\"`. */\n    containedSecondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `disableElevation={true}`. */\n    disableElevation: {\n      boxShadow: 'none',\n      '&:hover': {\n        boxShadow: 'none'\n      },\n      '&$focusVisible': {\n        boxShadow: 'none'\n      },\n      '&:active': {\n        boxShadow: 'none'\n      },\n      '&$disabled': {\n        boxShadow: 'none'\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit',\n      borderColor: 'currentColor'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"text\"`. */\n    textSizeSmall: {\n      padding: '4px 5px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"text\"`. */\n    textSizeLarge: {\n      padding: '8px 11px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"outlined\"`. */\n    outlinedSizeSmall: {\n      padding: '3px 9px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"outlined\"`. */\n    outlinedSizeLarge: {\n      padding: '7px 21px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"` and `variant=\"contained\"`. */\n    containedSizeSmall: {\n      padding: '4px 10px',\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"` and `variant=\"contained\"`. */\n    containedSizeLarge: {\n      padding: '8px 22px',\n      fontSize: theme.typography.pxToRem(15)\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {},\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {},\n\n    /* Styles applied to the root element if `fullWidth={true}`. */\n    fullWidth: {\n      width: '100%'\n    },\n\n    /* Styles applied to the startIcon element if supplied. */\n    startIcon: {\n      display: 'inherit',\n      marginRight: 8,\n      marginLeft: -4,\n      '&$iconSizeSmall': {\n        marginLeft: -2\n      }\n    },\n\n    /* Styles applied to the endIcon element if supplied. */\n    endIcon: {\n      display: 'inherit',\n      marginRight: -4,\n      marginLeft: 8,\n      '&$iconSizeSmall': {\n        marginRight: -2\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"small\"`. */\n    iconSizeSmall: {\n      '& > *:first-child': {\n        fontSize: 18\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"medium\"`. */\n    iconSizeMedium: {\n      '& > *:first-child': {\n        fontSize: 20\n      }\n    },\n\n    /* Styles applied to the icon element if supplied and `size=\"large\"`. */\n    iconSizeLarge: {\n      '& > *:first-child': {\n        fontSize: 22\n      }\n    }\n  };\n};\nvar Button = React.forwardRef(function Button(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableElevati = props.disableElevation,\n      disableElevation = _props$disableElevati === void 0 ? false : _props$disableElevati,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      endIconProp = props.endIcon,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$fullWidth = props.fullWidth,\n      fullWidth = _props$fullWidth === void 0 ? false : _props$fullWidth,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      startIconProp = props.startIcon,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'button' : _props$type,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableElevation\", \"disableFocusRipple\", \"endIcon\", \"focusVisibleClassName\", \"fullWidth\", \"size\", \"startIcon\", \"type\", \"variant\"]);\n\n  var startIcon = startIconProp && /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.startIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, startIconProp);\n  var endIcon = endIconProp && /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.endIcon, classes[\"iconSize\".concat(capitalize(size))])\n  }, endIconProp);\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, classes[variant], className, color === 'inherit' ? classes.colorInherit : color !== 'default' && classes[\"\".concat(variant).concat(capitalize(color))], size !== 'medium' && [classes[\"\".concat(variant, \"Size\").concat(capitalize(size))], classes[\"size\".concat(capitalize(size))]], disableElevation && classes.disableElevation, disabled && classes.disabled, fullWidth && classes.fullWidth),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref,\n    type: type\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, startIcon, children, endIcon));\n});\nprocess.env.NODE_ENV !== \"production\" ? Button.propTypes = {\n  /**\n   * The content of the button.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, no elevation is used.\n   */\n  disableElevation: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   *\n   * ⚠️ Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `focusVisibleClassName`.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * Element placed after the children.\n   */\n  endIcon: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * If `true`, the button will take up the full width of its container.\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * Element placed before the children.\n   */\n  startIcon: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  type: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['text', 'outlined', 'contained'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButton'\n})(Button);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nvar RADIUS_STANDARD = 10;\nvar RADIUS_DOT = 4;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'inline-flex',\n      // For correct alignment with the text.\n      verticalAlign: 'middle',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the badge `span` element. */\n    badge: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexWrap: 'wrap',\n      justifyContent: 'center',\n      alignContent: 'center',\n      alignItems: 'center',\n      position: 'absolute',\n      boxSizing: 'border-box',\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(12),\n      minWidth: RADIUS_STANDARD * 2,\n      lineHeight: 1,\n      padding: '0 6px',\n      height: RADIUS_STANDARD * 2,\n      borderRadius: RADIUS_STANDARD,\n      zIndex: 1,\n      // Render the badge on top of potential ripples.\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.secondary.contrastText\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      backgroundColor: theme.palette.error.main,\n      color: theme.palette.error.contrastText\n    },\n\n    /* Styles applied to the root element if `variant=\"dot\"`. */\n    dot: {\n      borderRadius: RADIUS_DOT,\n      height: RADIUS_DOT * 2,\n      minWidth: RADIUS_DOT * 2,\n      padding: 0\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginTopRightRectangle: {\n      top: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomRightRectangle: {\n      bottom: 0,\n      right: 0,\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginTopLeftRectangle: {\n      top: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"rectangle\"`. */\n    anchorOriginBottomLeftRectangle: {\n      bottom: 0,\n      left: 0,\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'right' }} overlap=\"circle\"`. */\n    anchorOriginTopRightCircle: {\n      top: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, -50%)',\n      transformOrigin: '100% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'right' }} overlap=\"circle\"`. */\n    anchorOriginBottomRightCircle: {\n      bottom: '14%',\n      right: '14%',\n      transform: 'scale(1) translate(50%, 50%)',\n      transformOrigin: '100% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(50%, 50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'top', 'left' }} overlap=\"circle\"`. */\n    anchorOriginTopLeftCircle: {\n      top: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, -50%)',\n      transformOrigin: '0% 0%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, -50%)'\n      }\n    },\n\n    /* Styles applied to the root element if `anchorOrigin={{ 'bottom', 'left' }} overlap=\"circle\"`. */\n    anchorOriginBottomLeftCircle: {\n      bottom: '14%',\n      left: '14%',\n      transform: 'scale(1) translate(-50%, 50%)',\n      transformOrigin: '0% 100%',\n      '&$invisible': {\n        transform: 'scale(0) translate(-50%, 50%)'\n      }\n    },\n\n    /* Pseudo-class to the badge `span` element if `invisible={true}`. */\n    invisible: {\n      transition: theme.transitions.create('transform', {\n        easing: theme.transitions.easing.easeInOut,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    }\n  };\n};\nvar Badge = React.forwardRef(function Badge(props, ref) {\n  var _props$anchorOrigin = props.anchorOrigin,\n      anchorOrigin = _props$anchorOrigin === void 0 ? {\n    vertical: 'top',\n    horizontal: 'right'\n  } : _props$anchorOrigin,\n      badgeContent = props.badgeContent,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      ComponentProp = _props$component === void 0 ? 'span' : _props$component,\n      invisibleProp = props.invisible,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 99 : _props$max,\n      _props$overlap = props.overlap,\n      overlap = _props$overlap === void 0 ? 'rectangle' : _props$overlap,\n      _props$showZero = props.showZero,\n      showZero = _props$showZero === void 0 ? false : _props$showZero,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"anchorOrigin\", \"badgeContent\", \"children\", \"classes\", \"className\", \"color\", \"component\", \"invisible\", \"max\", \"overlap\", \"showZero\", \"variant\"]);\n\n  var invisible = invisibleProp;\n\n  if (invisibleProp == null && (badgeContent === 0 && !showZero || badgeContent == null && variant !== 'dot')) {\n    invisible = true;\n  }\n\n  var displayValue = '';\n\n  if (variant !== 'dot') {\n    displayValue = badgeContent > max ? \"\".concat(max, \"+\") : badgeContent;\n  }\n\n  return /*#__PURE__*/React.createElement(ComponentProp, _extends({\n    className: clsx(classes.root, className),\n    ref: ref\n  }, other), children, /*#__PURE__*/React.createElement(\"span\", {\n    className: clsx(classes.badge, classes[\"\".concat(anchorOrigin.horizontal).concat(capitalize(anchorOrigin.vertical), \"}\")], classes[\"anchorOrigin\".concat(capitalize(anchorOrigin.vertical)).concat(capitalize(anchorOrigin.horizontal)).concat(capitalize(overlap))], color !== 'default' && classes[\"color\".concat(capitalize(color))], invisible && classes.invisible, variant === 'dot' && classes.dot)\n  }, displayValue));\n});\nprocess.env.NODE_ENV !== \"production\" ? Badge.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The anchor of the badge.\n   */\n  anchorOrigin: PropTypes.shape({\n    horizontal: PropTypes.oneOf(['left', 'right']).isRequired,\n    vertical: PropTypes.oneOf(['bottom', 'top']).isRequired\n  }),\n\n  /**\n   * The content rendered within the badge.\n   */\n  badgeContent: PropTypes.node,\n\n  /**\n   * The badge will be added relative to this node.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'error', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the badge will be invisible.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * Max count to show.\n   */\n  max: PropTypes.number,\n\n  /**\n   * Wrapped shape the badge should overlap.\n   */\n  overlap: PropTypes.oneOf(['circle', 'rectangle']),\n\n  /**\n   * Controls whether the badge is hidden when `badgeContent` is zero.\n   */\n  showZero: PropTypes.bool,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['dot', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiBadge'\n})(Badge);","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  r: \"3.2\"\n}), React.createElement(\"path\", {\n  d: \"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"\n})), 'CameraAlt');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'CheckCircleOutline');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { fade, withStyles } from '@material-ui/core/styles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      // Create a \"on paper\" color with sufficient contrast retaining the color\n      backgroundColor: fade(theme.palette.text.primary, theme.palette.type === 'light' ? 0.11 : 0.13),\n      height: '1.2em'\n    },\n\n    /* Styles applied to the root element if `variant=\"text\"`. */\n    text: {\n      marginTop: 0,\n      marginBottom: 0,\n      height: 'auto',\n      transformOrigin: '0 60%',\n      transform: 'scale(1, 0.60)',\n      borderRadius: theme.shape.borderRadius,\n      '&:empty:before': {\n        content: '\"\\\\00a0\"'\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"rect\"`. */\n    rect: {},\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the root element if `animation=\"pulse\"`. */\n    pulse: {\n      animation: '$pulse 1.5s ease-in-out 0.5s infinite'\n    },\n    '@keyframes pulse': {\n      '0%': {\n        opacity: 1\n      },\n      '50%': {\n        opacity: 0.4\n      },\n      '100%': {\n        opacity: 1\n      }\n    },\n\n    /* Styles applied to the root element if `animation=\"wave\"`. */\n    wave: {\n      position: 'relative',\n      overflow: 'hidden',\n      '&::after': {\n        animation: '$wave 1.6s linear 0.5s infinite',\n        background: \"linear-gradient(90deg, transparent, \".concat(theme.palette.action.hover, \", transparent)\"),\n        content: '\"\"',\n        position: 'absolute',\n        transform: 'translateX(-100%)',\n        // Avoid flash during server-side hydration\n        bottom: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      }\n    },\n    '@keyframes wave': {\n      '0%': {\n        transform: 'translateX(-100%)'\n      },\n      '60%': {\n        // +0.5s of delay between each loop\n        transform: 'translateX(100%)'\n      },\n      '100%': {\n        transform: 'translateX(100%)'\n      }\n    },\n\n    /* Styles applied when the component is passed children. */\n    withChildren: {\n      '& > *': {\n        visibility: 'hidden'\n      }\n    },\n\n    /* Styles applied when the component is passed children and no width. */\n    fitContent: {\n      maxWidth: 'fit-content'\n    },\n\n    /* Styles applied when the component is passed children and no height. */\n    heightAuto: {\n      height: 'auto'\n    }\n  };\n};\nvar Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(props, ref) {\n  var _props$animation = props.animation,\n      animation = _props$animation === void 0 ? 'pulse' : _props$animation,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      height = props.height,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'text' : _props$variant,\n      width = props.width,\n      other = _objectWithoutProperties(props, [\"animation\", \"classes\", \"className\", \"component\", \"height\", \"variant\", \"width\"]);\n\n  var hasChildren = Boolean(other.children);\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: clsx(classes.root, classes[variant], className, hasChildren && [classes.withChildren, !width && classes.fitContent, !height && classes.heightAuto], animation !== false && classes[animation])\n  }, other, {\n    style: _extends({\n      width: width,\n      height: height\n    }, other.style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes = {\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The type of content that will be rendered.\n   */\n  variant: PropTypes.oneOf(['text', 'rect', 'circle']),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSkeleton'\n})(Skeleton);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\ninterface PropTypes {\n  text: string;\n  value: string | number;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'relative'\n  },\n  menuButton: {\n    width: 200,\n    height: 50,\n    textAlign: 'center'\n  },\n  menuNumber: {\n    fontWeight: 800,\n    color: 'black'\n  },\n  menuText: {\n    color: 'darkgray'\n  }\n});\n\n\nconst Highlight: React.FC<PropTypes> = ({ text, value }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.menuButton}>\n      <div className={classes.menuNumber}>{value}</div>\n      <div className={classes.menuText}>{text}</div>\n    </div>\n  );\n};\n\nexport default Highlight;\n","import React, { useState, useCallback } from 'react';\nimport { Badge, Typography, CircularProgress } from '@material-ui/core/';\nimport { CameraAlt, CheckCircleOutline } from '@material-ui/icons/';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { User } from 'which-types';\n\nimport Highlight from './Highlight';\nimport FileUpload from '../../components/FileUpload/FileUpload';\nimport Avatar from '../../components/Avatar/Avatar';\nimport { patch } from '../../requests';\nimport { useAuth } from '../../hooks/useAuth';\nimport uploadFileToS3 from '../../utils/uploadFileToS3';\n\ninterface PropTypes {\n  savedPolls: number;\n  totalVotes: number;\n  userInfo: User | undefined;\n  setUserInfo: (userInfo: User) => void;\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    position: 'relative',\n    marginBottom: theme.spacing(4)\n  },\n  avatar: {\n    width: 150,\n    height: 150,\n    margin: '0 auto'\n  },\n  name: {\n    margin: theme.spacing(1, 0),\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  verified: {\n    marginLeft: theme.spacing(0.5),\n    width: theme.spacing(3),\n    height: theme.spacing(3)\n  },\n  profileMenu: {\n    display: 'flex',\n    width: '100%',\n    height: 50,\n    marginTop: theme.spacing(6),\n    borderBottom: '1px solid lightgray'\n  },\n  menuButton: {\n    width: 200,\n    height: 50,\n    textAlign: 'center'\n  },\n  badge: {\n    width: theme.spacing(5),\n    height: theme.spacing(5),\n    borderRadius: '50%',\n    cursor: 'pointer',\n    background: '#d3d3d3',\n    display: 'flex',\n    alignItems: 'center',\n    '& svg': {\n      margin: '0 auto'\n    }\n  },\n  avatarContainer: {\n    position: 'relative',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  menuNumber: {\n    fontWeight: 800,\n    color: 'black'\n  },\n  menuText: {\n    color: 'darkgray'\n  },\n  skeleton: {\n    margin: '10px auto',\n    borderRadius: 2\n  },\n  progress: {\n    position: 'absolute',\n    color: 'white'\n  }\n}));\n\n\nconst ProfileInfo: React.FC<PropTypes> = ({\n  savedPolls, totalVotes, setUserInfo, userInfo\n}) => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const [progress, setProgress] = useState<number>(0);\n\n  const dateSince = new Date(userInfo?.createdAt || '').toLocaleDateString();\n\n  const handleUpdateAvatar = useCallback(async (file: File) => {\n    if (user) {\n      uploadFileToS3(file, 0.8, setProgress)\n        .then(avatarUrl => patch(`/users/${user._id}`, { avatarUrl }))\n        .then(response => setUserInfo(response.data))\n        .then(() => setProgress(0));\n    }\n  }, [user, setUserInfo]);\n\n  return (\n    <div className={classes.root}>\n      {\n        !userInfo\n          ? <Skeleton animation=\"wave\" variant=\"circle\" width={150} height={150} className={classes.avatar} />\n          : userInfo?._id === user?._id\n            ? (\n              <div className={classes.avatarContainer}>\n                <Badge\n                  overlap=\"circle\"\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right'\n                  }}\n                  className={classes.avatarContainer}\n                  badgeContent={(\n                    <FileUpload callback={handleUpdateAvatar}>\n                      <div className={classes.badge}>\n                        <CameraAlt />\n                      </div>\n                    </FileUpload>\n                  )}\n                >\n                  <Avatar className={classes.avatar} user={userInfo} />\n                  {progress > 0 && (\n                    <CircularProgress variant=\"static\" value={progress} className={classes.progress} />\n                  )}\n                </Badge>\n              </div>\n            )\n            : <Avatar className={classes.avatar} user={userInfo} />\n      }\n      {\n        !userInfo\n          ? <Skeleton animation=\"wave\" variant=\"rect\" width={100} height={20} className={classes.skeleton} />\n          : (\n            <Typography variant=\"h5\" className={classes.name}>\n              {userInfo?.username}\n              {userInfo?.verified && <CheckCircleOutline className={classes.verified} color=\"primary\" />}\n            </Typography>\n          )\n      }\n      <div className={classes.profileMenu}>\n        {\n          !userInfo\n            ? (\n              <>\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n                <Skeleton animation=\"wave\" variant=\"rect\" width={170} height={20} className={classes.skeleton} />\n              </>\n            )\n            : (\n              <>\n                <Highlight text=\"Polls\" value={savedPolls} />\n                <Highlight text=\"Since\" value={dateSince} />\n                <Highlight text=\"Total votes\" value={totalVotes} />\n              </>\n            )\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React, { useEffect, useMemo } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Poll } from 'which-types';\nimport { Container } from '@material-ui/core';\n\nimport ProfileInfo from './ProfileInfo';\nimport PollsList from '../../components/PollsList/PollsList';\nimport Loading from '../../components/Loading/Loading';\nimport Fab from '../../components/Fab/Fab';\nimport EmptyState from '../../components/EmptyState/EmptyState';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useUser, useProfile } from '../../hooks/APIClient';\n\n\nconst Profile: React.FC = () => {\n  const history = useHistory();\n  const { username } = useParams();\n  const { user } = useAuth();\n\n  const { data: userInfo, mutate: setUserInfo } = useUser(username);\n  const { data: polls, mutate: mutatePolls, isValidating } = useProfile(username);\n\n  useEffect(() => {\n    if (!username) {\n      if (user) history.push(`/profile/${user.username}`);\n      else history.push('/login');\n    }\n  }, [username, history, user]);\n\n  const isOwnProfile = useMemo(() => user?.username === username, [user, username]);\n  const message = useMemo(() => {\n    return isOwnProfile\n      ? 'Create a poll and it will show up here.'\n      : 'This user has not uploaded anything yet.';\n  }, [isOwnProfile]);\n\n  const totalVotes = useMemo(() => polls?.reduce(\n    (total: number, current: Poll) => {\n      const { left, right } = current.contents;\n      return total + left.votes + right.votes;\n    }, 0\n  ) || 0, [polls]);\n\n  return (\n    <Container maxWidth=\"sm\" disableGutters>\n      <ProfileInfo\n        userInfo={userInfo}\n        setUserInfo={setUserInfo}\n        savedPolls={polls?.length || 0}\n        totalVotes={totalVotes}\n      />\n      {\n        polls\n          ? polls.length\n            ? <PollsList polls={polls} mutate={mutatePolls} />\n            : <EmptyState message={message} />\n          : isValidating && <Loading />\n      }\n      {isOwnProfile && <Fab />}\n    </Container>\n  );\n};\n\nexport default Profile;\n"],"sourceRoot":""}