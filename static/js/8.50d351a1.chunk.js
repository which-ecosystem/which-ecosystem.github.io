(this.webpackJsonpwhich=this.webpackJsonpwhich||[]).push([[8],{242:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(60),i=a(78),l=Object(o.a)({root:{position:"absolute",width:"100%",height:"100%"},image:{objectFit:"cover",pointerEvents:"none",width:"100%",height:"100%"}});t.a=function(e){var t=e.src,a=e.alt,n=l();return r.a.createElement("picture",{className:n.root},r.a.createElement(i.a,{src:t,alt:a,className:n.image}))}},254:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(346),i=a(299),l=a.n(i);t.a=function(e){var t=e.callback,a=e.children,i=Object(n.useRef)(null),c=function(){(null===i||void 0===i?void 0:i.current)&&i.current.click()},s=a&&r.a.Children.only(a),d=r.a.createElement(o.a,{onClick:c,variant:"contained",color:"primary",size:"large",startIcon:r.a.createElement(l.a,null)},"Upload");return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",ref:i,multiple:!1,accept:".jpg, .jpeg, .png, .gif",style:{display:"none"},onChange:function(e){var a,n=null===(a=e.target)||void 0===a?void 0:a.files;(null===n||void 0===n?void 0:n.length)&&t(n[0])}}),r.a.isValidElement(s)?r.a.cloneElement(s,{onClick:c}):d)}},255:function(e,t,a){"use strict";var n=a(12),r=a(300),o=a.n(r),i=a(80),l=a.n(i),c=a(256),s=a.n(c),d=a(27),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;return new Promise((function(a,n){return 1===t?a(e):new o.a(e,{success:function(e){return a(e)},error:function(e){return n(e)},quality:t})}))};t.a=function(e,t,a){var r={headers:{"Content-Type":"image/png"},onUploadProgress:function(e){if(a){var t=e.loaded,n=e.total,r=Math.round(95*t/n);a(r)}}};return s.a.all([Object(d.a)("/files?key=".concat(e.name)),u(e,t)]).then((function(e){var t=Object(n.a)(e,2),a=t[0],o=t[1],i=a.data;return l.a.put(i,o,r)})).then((function(e){a&&a(100);var t=e.config.url;return t?t.slice(0,t.indexOf("?")):""}))}},276:function(e,t,a){"use strict";var n=a(63),r=a(0),o=a.n(r),i=a(10),l=a(185),c=a(186),s=a(434),d=a(60),u=a(324),m=a.n(u),p=Object(d.a)((function(e){var t;return{root:(t={zIndex:1e3,position:"fixed"},Object(n.a)(t,e.breakpoints.down("sm"),{right:e.spacing(2),bottom:e.spacing(8)}),Object(n.a)(t,e.breakpoints.up("md"),{right:e.spacing(5),bottom:e.spacing(5)}),t)}}));t.a=function(e){var t=e.hideOnScroll,a=void 0!==t&&t,n=p(),r=Object(i.f)(),d=Object(l.a)();return o.a.createElement(c.a,{appear:!1,direction:"up",in:!a||!d},o.a.createElement(s.a,{onClick:function(){r.push("/new")},className:n.root,color:"secondary"},o.a.createElement(m.a,null)))}},293:function(e,t,a){"use strict";var n=a(62),r=a.n(n),o=a(71),i=a(12),l=a(0),c=a.n(l),s=a(336),d=a(81),u=a.n(d),m=a(338),p=a(321),h=a(60),g=a(323),b=a(412),v=a(79),f=a(322),y=a.n(f),O=Object(h.a)({root:{position:"absolute",color:"white",top:"86%",fontSize:20,textShadow:"0 0 3px black",display:"flex",alignItems:"center"},left:{left:30},right:{right:30}}),x=function(e){var t=e.value,a=e.which,n=e.like,r=O();return c.a.createElement("div",{className:"".concat(r.root," ").concat(r[a])},n&&c.a.createElement(y.a,null),"".concat(t,"%"))},w=a(76),j=a(242),k=a(27),E=a(32),C={month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"},S=Object(h.a)((function(e){return{media:{display:"flex",height:e.spacing(50)},rateLine:{position:"relative",width:"100%",height:e.spacing(2),backgroundColor:e.palette.primary.light,transitionDuration:"0.5s"},highlight:{backgroundColor:"".concat(e.palette.primary.main," !important")},fillRateLine:{height:e.spacing(2),backgroundColor:e.palette.primary.light,transitionDuration:"0.5s"}}})),N=c.a.memo((function(e){var t,a,n=e.poll,r=e.setPoll,o=S(),i=n.author,l=n.contents,s=l.left,d=l.right,u=n.vote,m=Object(v.b)().enqueueSnackbar,h=Object(E.b)().isAuthenticated,f=new Date(n.createdAt).toLocaleString("default",C),y=function(e){if(h)if(u)m("You have already voted in this poll",{variant:"error"});else{var t={which:e,pollId:n._id},a=Object(p.a)({},n);a.contents[e].votes+=1,a.vote=Object(p.a)({_id:"",authorId:"",createdAt:new Date},t),r(a),Object(k.c)("votes/",t)}else m("Unauthorized users can not vote in polls",{variant:"error"})};s.votes||d.votes?a=100-(t=Math.round(s.votes/(s.votes+d.votes)*100)):(t=0,a=0);var O=s.votes>=d.votes?"left":"right";return c.a.createElement(g.a,{elevation:3},c.a.createElement(w.a,{user:i,info:f}),c.a.createElement("div",{className:o.media},c.a.createElement(b.a,{onDoubleClick:function(){return y("left")},className:o.media},c.a.createElement(j.a,{src:s.url}),c.a.createElement(x,{value:t,which:"left",like:"left"===(null===u||void 0===u?void 0:u.which)})),c.a.createElement(b.a,{onDoubleClick:function(){return y("right")},className:o.media},c.a.createElement(j.a,{src:d.url}),c.a.createElement(x,{value:a,which:"right",like:"right"===(null===u||void 0===u?void 0:u.which)}))),c.a.createElement("div",{className:"".concat(o.rateLine," ").concat("right"===O?o.highlight:"")},c.a.createElement("div",{className:"".concat(o.fillRateLine," ").concat("left"===O?o.highlight:""),style:{width:"".concat(t,"%")}})))})),z=c.a.memo((function(e){var t=e.polls,a=e.mutate,n=e.index,r=e.style,o=e._key,i=t[n],s=Object(l.useCallback)((function(e){var r=Object(m.a)(t);r[n]=e,a([],!1),a(r,!1)}),[a,n,t]);return c.a.createElement("div",{key:"".concat(o,"-").concat(i._id),style:r},c.a.createElement(N,{poll:i,setPoll:s}))}),(function(e,t){return e._key===t._key&&(e.index===t.index&&e.polls===t.polls)}));t.a=function(e){var t=e.polls,a=e.mutate,n=Object(l.useState)(10),d=Object(i.a)(n,2),m=d[0],p=d[1],h=Object(l.useCallback)((function(e){var n=e.index,r=e.style,o=e.key;return c.a.createElement(z,{polls:t,mutate:a,index:n,style:r,key:o,_key:o})}),[t,a]),g=Object(l.useCallback)(Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(e){return e+10}));case 1:case"end":return e.stop()}}),e)}))),[]),b=Object(l.useCallback)((function(e){return e.index<m-1||m===t.length}),[m,t]),v=Object(l.useMemo)((function(){return u.a.min([m,t.length])||t.length}),[m,t.length]);return c.a.createElement(s.d,null,(function(e){var t=e.height,a=e.isScrolling,n=e.registerChild,r=e.onChildScroll,o=e.scrollTop;return c.a.createElement(s.a,{disableHeight:!0},(function(e){var i=e.width;return c.a.createElement("div",{ref:n},c.a.createElement(s.b,{isRowLoaded:b,loadMoreRows:g,rowCount:v,threshold:1},(function(e){var n=e.onRowsRendered,l=e.registerChild;return c.a.createElement(s.c,{autoHeight:!0,height:t,isScrolling:a,onScroll:r,rowCount:v,rowHeight:550,rowRenderer:h,scrollTop:o,width:i,containerStyle:{pointerEvents:"auto"},overscanRowCount:2,onRowsRendered:n,ref:l})})))}))}))}},346:function(e,t,a){"use strict";var n=a(2),r=a(1),o=a(0),i=(a(4),a(3)),l=a(5),c=a(24),s=a(114),d=a(8),u=o.forwardRef((function(e,t){var a=e.children,l=e.classes,c=e.className,u=e.color,m=void 0===u?"default":u,p=e.component,h=void 0===p?"button":p,g=e.disabled,b=void 0!==g&&g,v=e.disableElevation,f=void 0!==v&&v,y=e.disableFocusRipple,O=void 0!==y&&y,x=e.endIcon,w=e.focusVisibleClassName,j=e.fullWidth,k=void 0!==j&&j,E=e.size,C=void 0===E?"medium":E,S=e.startIcon,N=e.type,z=void 0===N?"button":N,R=e.variant,I=void 0===R?"text":R,T=Object(n.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),L=S&&o.createElement("span",{className:Object(i.a)(l.startIcon,l["iconSize".concat(Object(d.a)(C))])},S),$=x&&o.createElement("span",{className:Object(i.a)(l.endIcon,l["iconSize".concat(Object(d.a)(C))])},x);return o.createElement(s.a,Object(r.a)({className:Object(i.a)(l.root,l[I],c,"inherit"===m?l.colorInherit:"default"!==m&&l["".concat(I).concat(Object(d.a)(m))],"medium"!==C&&[l["".concat(I,"Size").concat(Object(d.a)(C))],l["size".concat(Object(d.a)(C))]],f&&l.disableElevation,b&&l.disabled,k&&l.fullWidth),component:h,disabled:b,focusRipple:!O,focusVisibleClassName:Object(i.a)(l.focusVisible,w),ref:t,type:z},T),o.createElement("span",{className:l.label},L,a,$))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)(Object(r.a)({},e.typography.button),{},{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(c.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(c.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(c.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(c.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(c.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},453:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a(413),l=a(62),c=a.n(l),s=a(71),d=a(12),u=a(1),m=a(2),p=(a(4),a(3)),h=a(5),g=a(8),b=n.forwardRef((function(e,t){var a=e.anchorOrigin,r=void 0===a?{vertical:"top",horizontal:"right"}:a,o=e.badgeContent,i=e.children,l=e.classes,c=e.className,s=e.color,d=void 0===s?"default":s,h=e.component,b=void 0===h?"span":h,v=e.invisible,f=e.max,y=void 0===f?99:f,O=e.overlap,x=void 0===O?"rectangle":O,w=e.showZero,j=void 0!==w&&w,k=e.variant,E=void 0===k?"standard":k,C=Object(m.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),S=v;null==v&&(0===o&&!j||null==o&&"dot"!==E)&&(S=!0);var N="";return"dot"!==E&&(N=o>y?"".concat(y,"+"):o),n.createElement(b,Object(u.a)({className:Object(p.a)(l.root,c),ref:t},C),i,n.createElement("span",{className:Object(p.a)(l.badge,l["".concat(r.horizontal).concat(Object(g.a)(r.vertical),"}")],l["anchorOrigin".concat(Object(g.a)(r.vertical)).concat(Object(g.a)(r.horizontal)).concat(Object(g.a)(x))],"default"!==d&&l["color".concat(Object(g.a)(d))],S&&l.invisible,"dot"===E&&l.dot)},N))})),v=Object(h.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(b),f=a(113),y=a(43),O=a(17),x=Object(O.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),r.a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"CameraAlt"),w=Object(O.a)(r.a.createElement("path",{d:"M16.59 7.58L10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline"),j=a(60),k=a(24),E=n.forwardRef((function(e,t){var a=e.animation,r=void 0===a?"pulse":a,o=e.classes,i=e.className,l=e.component,c=void 0===l?"span":l,s=e.height,d=e.variant,h=void 0===d?"text":d,g=e.width,b=Object(m.a)(e,["animation","classes","className","component","height","variant","width"]),v=Boolean(b.children);return n.createElement(c,Object(u.a)({ref:t,className:Object(p.a)(o.root,o[h],i,v&&[o.withChildren,!g&&o.fitContent,!s&&o.heightAuto],!1!==r&&o[r])},b,{style:Object(u.a)({width:g,height:s},b.style)}))})),C=Object(h.a)((function(e){return{root:{display:"block",backgroundColor:Object(k.c)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(E),S=Object(j.a)({root:{position:"relative"},menuButton:{width:200,height:50,textAlign:"center"},menuNumber:{fontWeight:800,color:"black"},menuText:{color:"darkgray"}}),N=function(e){var t=e.text,a=e.value,n=S();return r.a.createElement("div",{className:n.menuButton},r.a.createElement("div",{className:n.menuNumber},a),r.a.createElement("div",{className:n.menuText},t))},z=a(254),R=a(34),I=a(27),T=a(32),L=a(255),$=Object(j.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(4)},avatar:{width:150,height:150,margin:"0 auto"},name:{margin:e.spacing(1,0),display:"flex",alignItems:"center",justifyContent:"center"},verified:{marginLeft:e.spacing(.5),width:e.spacing(3),height:e.spacing(3)},profileMenu:{display:"flex",width:"100%",height:50,marginTop:e.spacing(6),borderBottom:"1px solid lightgray"},menuButton:{width:200,height:50,textAlign:"center"},badge:{width:e.spacing(5),height:e.spacing(5),borderRadius:"50%",cursor:"pointer",background:"#d3d3d3",display:"flex",alignItems:"center","& svg":{margin:"0 auto"}},avatarContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},menuNumber:{fontWeight:800,color:"black"},menuText:{color:"darkgray"},skeleton:{margin:"10px auto",borderRadius:2},progress:{position:"absolute",color:"white"}}})),M=function(e){var t=e.savedPolls,a=e.totalVotes,o=e.setUserInfo,i=e.userInfo,l=$(),u=Object(T.b)().user,m=Object(n.useState)(0),p=Object(d.a)(m,2),h=p[0],g=p[1],b=new Date((null===i||void 0===i?void 0:i.createdAt)||"").toLocaleDateString(),O=Object(n.useCallback)(function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u&&Object(L.a)(t,.8,g).then((function(e){return Object(I.b)("/users/".concat(u._id),{avatarUrl:e})})).then((function(e){return o(e.data)})).then((function(){return g(0)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,o]);return r.a.createElement("div",{className:l.root},i?(null===i||void 0===i?void 0:i._id)===(null===u||void 0===u?void 0:u._id)?r.a.createElement("div",{className:l.avatarContainer},r.a.createElement(v,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},className:l.avatarContainer,badgeContent:r.a.createElement(z.a,{callback:O},r.a.createElement("div",{className:l.badge},r.a.createElement(x,null)))},r.a.createElement(R.a,{className:l.avatar,user:i}),h>0&&r.a.createElement(f.a,{variant:"static",value:h,className:l.progress}))):r.a.createElement(R.a,{className:l.avatar,user:i}):r.a.createElement(C,{animation:"wave",variant:"circle",width:150,height:150,className:l.avatar}),i?r.a.createElement(y.a,{variant:"h5",className:l.name},null===i||void 0===i?void 0:i.username,(null===i||void 0===i?void 0:i.verified)&&r.a.createElement(w,{className:l.verified,color:"primary"})):r.a.createElement(C,{animation:"wave",variant:"rect",width:100,height:20,className:l.skeleton}),r.a.createElement("div",{className:l.profileMenu},i?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{text:"Polls",value:t}),r.a.createElement(N,{text:"Since",value:b}),r.a.createElement(N,{text:"Total votes",value:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{animation:"wave",variant:"rect",width:170,height:20,className:l.skeleton}),r.a.createElement(C,{animation:"wave",variant:"rect",width:170,height:20,className:l.skeleton}),r.a.createElement(C,{animation:"wave",variant:"rect",width:170,height:20,className:l.skeleton}))))},B=a(293),W=a(52),V=a(276),A=a(49),P=a(75);t.default=function(){var e=Object(o.f)(),t=Object(o.g)().username,a=Object(T.b)().user,l=Object(P.d)(t),c=l.data,s=l.mutate,d=Object(P.c)(t),u=d.data,m=d.mutate,p=d.isValidating;Object(n.useEffect)((function(){t||(a?e.push("/profile/".concat(a.username)):e.push("/login"))}),[t,e,a]);var h=Object(n.useMemo)((function(){return(null===a||void 0===a?void 0:a.username)===t}),[a,t]),g=Object(n.useMemo)((function(){return h?"Create a poll and it will show up here.":"This user has not uploaded anything yet."}),[h]),b=Object(n.useMemo)((function(){return(null===u||void 0===u?void 0:u.reduce((function(e,t){var a=t.contents,n=a.left,r=a.right;return e+n.votes+r.votes}),0))||0}),[u]);return r.a.createElement(i.a,{maxWidth:"sm",disableGutters:!0},r.a.createElement(M,{userInfo:c,setUserInfo:s,savedPolls:(null===u||void 0===u?void 0:u.length)||0,totalVotes:b}),u?u.length?r.a.createElement(B.a,{polls:u,mutate:m}):r.a.createElement(A.a,{message:g}):p&&r.a.createElement(W.a,null),h&&r.a.createElement(V.a,null))}}}]);
//# sourceMappingURL=8.50d351a1.chunk.js.map